\subsection{bit\+\_\+pack\+\_\+tb.\+vhd}
\label{rx__path__top_2bit__pack_2sim_2bit__pack__tb_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/rx\+\_\+path\+\_\+top/bit\+\_\+pack/sim/bit\+\_\+pack\+\_\+tb.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/rx\+\_\+path\+\_\+top/bit\+\_\+pack/sim/bit\+\_\+pack\+\_\+tb.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00002 \textcolor{keyword}{-- FILE:    bit\_pack\_tb.vhd}
00003 \textcolor{keyword}{-- DESCRIPTION: }
00004 \textcolor{keyword}{-- DATE:    Feb 13, 2014}
00005 \textcolor{keyword}{-- AUTHOR(s):   Lime Microsystems}
00006 \textcolor{keyword}{-- REVISIONS:}
00007 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00008 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00009 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00010 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00011 
00012 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00013 \textcolor{keyword}{-- Entity declaration}
00014 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00015 \textcolor{keywordflow}{entity }bit_pack_tb \textcolor{keywordflow}{is}
00016 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{bit\_pack\_tb};
00017 
00018 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00019 \textcolor{keyword}{-- Architecture}
00020 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00021 
00022 \textcolor{keywordflow}{architecture} tb\_behave \textcolor{keywordflow}{of} bit_pack_tb is
00023    \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{clk0_period}    \textcolor{vhdlchar}{:} \textcolor{comment}{time} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10} \textcolor{vhdlchar}{ns};
00024    \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{clk1_period}    \textcolor{vhdlchar}{:} \textcolor{comment}{time} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10} \textcolor{vhdlchar}{ns}; 
00025 \textcolor{keyword}{   --signals}
00026    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{clk1}        \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00027    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{reset_n}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic}; 
00028    
00029 \textcolor{keyword}{   --dut0}
00030    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut0_data_in}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00031    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut0_data_in_valid}     \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00032    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut0_sample_width}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{:=}\textcolor{vhdllogic}{"01"};\textcolor{keyword}{ --"10"-12bit, "01"-14bit,
       "00"-16bit;}
00033    
00034    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut1_n}                 \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{:=}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"00"};
00035    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut1_pulse_out}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00036    
00037    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data_wrreq}             \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00038    
00039    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data12_0}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{11} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00040    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data12_1}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{11} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00041    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data12_2}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{11} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00042    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data12_3}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{11} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00043                   
00044    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data14_0}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{13} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00045    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data14_1}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{13} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00046    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data14_2}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{13} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00047    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data14_3}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{13} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00048                   
00049    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data16_0}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00050    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data16_1}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00051    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data16_2}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00052    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data16_3}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00053    
00054    
00055 \textcolor{vhdlkeyword}{begin }
00056   
00057       clock0: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00058 \textcolor{vhdlkeyword}{   begin}
00059       \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk0_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00060       \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk0_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00061    \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{clock0};
00062 
00063       clock: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00064 \textcolor{vhdlkeyword}{   begin}
00065       \textcolor{vhdlchar}{clk1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk1_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00066       \textcolor{vhdlchar}{clk1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk1_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00067    \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{clock};
00068    
00069       res: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00070 \textcolor{vhdlkeyword}{   begin}
00071       \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{20} \textcolor{vhdlchar}{ns};
00072       \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait};
00073    \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{res};
00074    
00075    
00076    
00077    
00078 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00080 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00081    DATA12\_CNT : \textcolor{keywordflow}{process}(reset_n, clk0)
00082 \textcolor{vhdlkeyword}{   begin}
00083       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00084          \textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00085          \textcolor{vhdlchar}{data12_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00086          \textcolor{vhdlchar}{data12_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00087          \textcolor{vhdlchar}{data12_3}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};  
00088       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00089          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{data_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}   
00090             \textcolor{vhdlchar}{data12_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4};
00091             \textcolor{vhdlchar}{data12_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{5};
00092             \textcolor{vhdlchar}{data12_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{6};
00093             \textcolor{vhdlchar}{data12_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7}; 
00094          \textcolor{keywordflow}{else} 
00095             \textcolor{vhdlchar}{data12_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_0};
00096             \textcolor{vhdlchar}{data12_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_1};
00097             \textcolor{vhdlchar}{data12_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_2};
00098             \textcolor{vhdlchar}{data12_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_3}; 
00099          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00100       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00101    \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00102    
00103 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00105 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00106    DATA14\_CNT : \textcolor{keywordflow}{process}(reset_n, clk0)
00107 \textcolor{vhdlkeyword}{   begin}
00108       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00109          \textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00110          \textcolor{vhdlchar}{data14_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00111          \textcolor{vhdlchar}{data14_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00112          \textcolor{vhdlchar}{data14_3}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};  
00113       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00114          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{data_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}   
00115             \textcolor{vhdlchar}{data14_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4};
00116             \textcolor{vhdlchar}{data14_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{5};
00117             \textcolor{vhdlchar}{data14_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{6};
00118             \textcolor{vhdlchar}{data14_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7}; 
00119          \textcolor{keywordflow}{else} 
00120             \textcolor{vhdlchar}{data14_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_0};
00121             \textcolor{vhdlchar}{data14_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_1};
00122             \textcolor{vhdlchar}{data14_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_2};
00123             \textcolor{vhdlchar}{data14_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_3}; 
00124          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00125       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00126    \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00127    
00128 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00130 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00131    DATA16\_CNT : \textcolor{keywordflow}{process}(reset_n, clk0)
00132 \textcolor{vhdlkeyword}{   begin}
00133       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00134          \textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00135          \textcolor{vhdlchar}{data16_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00136          \textcolor{vhdlchar}{data16_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00137          \textcolor{vhdlchar}{data16_3}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};  
00138       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00139          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{data_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}   
00140             \textcolor{vhdlchar}{data16_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4};
00141             \textcolor{vhdlchar}{data16_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{5};
00142             \textcolor{vhdlchar}{data16_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{6};
00143             \textcolor{vhdlchar}{data16_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7}; 
00144          \textcolor{keywordflow}{else} 
00145             \textcolor{vhdlchar}{data16_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_0};
00146             \textcolor{vhdlchar}{data16_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_1};
00147             \textcolor{vhdlchar}{data16_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_2};
00148             \textcolor{vhdlchar}{data16_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_3}; 
00149          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00150       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00151    \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00152    
00153    
00154    \textcolor{vhdlchar}{dut0_data_in} \textcolor{vhdlchar}{<=}   \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{"0000000000000000"} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data12_3}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{
      data12_2}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data12_1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{
      dut0_sample_width}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{"10"} \textcolor{keywordflow}{else} 
00155                      \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{"00000000"} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data14_3}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{
      data14_2}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data14_1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{
      dut0_sample_width}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{"01"} \textcolor{keywordflow}{else} 
00156                      \textcolor{vhdlchar}{(}\textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data16_3}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data16_2}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{
      data16_1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)}; 
00157   
00158   \textcolor{vhdlchar}{dut0_data_in_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data_wrreq};
00159   
00160   bit\_pack\_dut0 : \textcolor{keywordflow}{entity} work.bit_pack 
00161 \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00162         clk             => clk0,
00163         reset_n         => reset_n,
00164         data_in         => dut0_data_in,
00165         data_in_valid   => dut0_data_in_valid,
00166         sample_width    => dut0_sample_width,
00167         data_out        => \textcolor{keywordflow}{open},
00168         data_out_valid  => \textcolor{keywordflow}{open}
00169 \textcolor{vhdlchar}{)};  
00170 
00171 pulse\_gen\_dut1 : \textcolor{keywordflow}{entity} work.pulse_gen
00172 \textcolor{keywordflow}{port} \textcolor{keywordflow}{map} (
00173          clk         => clk0,
00174          reset_n     => reset_n,
00175          n           => dut1_n, 
00176          pulse\_out   => dut1_pulse_out
00177                
00178 \textcolor{vhdlchar}{)};
00179 
00180 \textcolor{vhdlchar}{data_wrreq}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{dut1_pulse_out};
00181 
00182 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{tb\_behave};
00183   
00184   
00185 
00186 
00187   
\end{DoxyCode}
