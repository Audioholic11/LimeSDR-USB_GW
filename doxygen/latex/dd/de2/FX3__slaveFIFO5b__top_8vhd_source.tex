\subsection{F\+X3\+\_\+slave\+F\+I\+F\+O5b\+\_\+top.\+vhd}
\label{FX3__slaveFIFO5b__top_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/fx3/slave\+F\+I\+F\+O5b/\+F\+X3\+\_\+slave\+F\+I\+F\+O5b\+\_\+top.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/fx3/slave\+F\+I\+F\+O5b/\+F\+X3\+\_\+slave\+F\+I\+F\+O5b\+\_\+top.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00002 \textcolor{keyword}{-- FILE:    file\_name.vhd}
00003 \textcolor{keyword}{-- DESCRIPTION: describe}
00004 \textcolor{keyword}{-- DATE:    Feb 13, 2014}
00005 \textcolor{keyword}{-- AUTHOR(s):   Lime Microsystems}
00006 \textcolor{keyword}{-- REVISIONS:}
00007 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00008 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00009 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00010 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00011 
00012 \textcolor{vhdlkeyword}{LIBRARY }\textcolor{keywordflow}{altera\_mf};
00013 \textcolor{vhdlkeyword}{USE }altera\_mf.altera\_mf\_components.\textcolor{keywordflow}{all};
00014 
00015 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00016 \textcolor{keyword}{-- Entity declaration}
00017 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00018 \textcolor{keywordflow}{entity }FX3_slaveFIFO5b_top \textcolor{keywordflow}{is}
00019     \textcolor{keywordflow}{generic} \textcolor{vhdlchar}{(}
00020                 \textcolor{vhdlchar}{dev_family}              \textcolor{vhdlchar}{:} \textcolor{comment}{string} \textcolor{vhdlchar}{:=} \textcolor{keyword}{"Cyclone IV E"};
00021                 \textcolor{vhdlchar}{data_width}              \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{32};\textcolor{keyword}{                                --when data\_width
       is changed to 16b, socketx\_wrusedw\_size and }
00022 \textcolor{keyword}{                                                                                                
      --socketx\_rdusedw\_size has to be doubled to maintain same size}
00023                 \textcolor{vhdlchar}{EP01_rwidth}             \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{64};
00024                 \textcolor{vhdlchar}{EP81_wrusedw_width}  \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10};
00025                 \textcolor{vhdlchar}{EP81_wwidth}             \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{64};            
00026                 \textcolor{vhdlchar}{EP0F_rwidth}             \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{8};
00027                 \textcolor{vhdlchar}{EP8F_wwidth}             \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{8}
00028                 \textcolor{vhdlchar}{)};
00029     \textcolor{keywordflow}{port}\textcolor{vhdlchar}{(}
00030                 \textcolor{vhdlchar}{reset_n}                     \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{                                 --input reset
       active low}
00031                 \textcolor{vhdlchar}{clk}                 \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{                                 --input clk 100 Mhz  }
00032                 \textcolor{vhdlchar}{clk_out}             \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};\textcolor{keyword}{                                    --output clk 100
       Mhz }
00033                 \textcolor{vhdlchar}{usb_speed}               \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{                                 --USB3.0 - 1,
       USB2.0 - 0}
00034                 \textcolor{vhdlchar}{slcs}                    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};\textcolor{keyword}{                                    --output chip
       select}
00035                 \textcolor{vhdlchar}{fdata}                   \textcolor{vhdlchar}{:} \textcolor{keywordflow}{inout} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};         
00036                 \textcolor{vhdlchar}{faddr}                   \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};\textcolor{keyword}{         --output fifo address}
00037                 \textcolor{vhdlchar}{slrd}                    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};\textcolor{keyword}{                                    --output read
       select}
00038                 \textcolor{vhdlchar}{sloe}                    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};\textcolor{keyword}{                                    --output output
       enable select}
00039                 \textcolor{vhdlchar}{slwr}                    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};\textcolor{keyword}{                                    --output write
       select}
00040                                   
00041                 flaga                   : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};                                
00042                 flagb                   : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00043                 flagc                   : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};                                 --Not used \textcolor{keywordflow}{in} 5bit 
      addres mode
00044                 flagd                   : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};                                 --Not used \textcolor{keywordflow}{in} 5bit 
      addres mode
00045 
00046                 \textcolor{vhdlchar}{pktend}              \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};\textcolor{keyword}{                                    --output pkt end }
00047                 \textcolor{vhdlchar}{EPSWITCH}                    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00048         
00049 \textcolor{keyword}{                --stream endpoint fifo (PC->FPGA) }
00050                 \textcolor{vhdlchar}{EP01_rdclk}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00051                 \textcolor{vhdlchar}{EP01_rd}         \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00052                 \textcolor{vhdlchar}{EP01_rdata}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{EP01_rwidth}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00053                 \textcolor{vhdlchar}{EP01_rempty}     \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00054                 \textcolor{vhdlchar}{ext_buff_rdy}    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00055                 \textcolor{vhdlchar}{ext_buff_data}   \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00056                 \textcolor{vhdlchar}{ext_buff_wr}     \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00057 \textcolor{keyword}{                --stream endpoint fifo (FPGA->PC)}
00058                 \textcolor{vhdlchar}{EP81_wclk}       \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00059                 \textcolor{vhdlchar}{EP81_aclrn}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00060                 \textcolor{vhdlchar}{EP81_wr}         \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00061                 \textcolor{vhdlchar}{EP81_wdata}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{EP81_wwidth}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00062                 \textcolor{vhdlchar}{EP81_wfull}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00063                 \textcolor{vhdlchar}{EP81_wrusedw}    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{EP81_wrusedw_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00064 \textcolor{keyword}{                --controll endpoint fifo (PC->FPGA)}
00065                 \textcolor{vhdlchar}{EP0F_rdclk}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00066                 \textcolor{vhdlchar}{EP0F_rd}         \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00067                 \textcolor{vhdlchar}{EP0F_rdata}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{EP0F_rwidth}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00068                 \textcolor{vhdlchar}{EP0F_rempty}     \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00069 \textcolor{keyword}{                --controll endpoint fifo (FPGA->PC)}
00070                 \textcolor{vhdlchar}{EP8F_wclk}       \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00071                 \textcolor{vhdlchar}{EP8F_aclrn}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00072                 \textcolor{vhdlchar}{EP8F_wr}         \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00073                 \textcolor{vhdlchar}{EP8F_wdata}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{EP8F_wwidth}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00074                 \textcolor{vhdlchar}{EP8F_wfull}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00075                 \textcolor{vhdlchar}{GPIF_busy}       \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic}
00076             
00077         \textcolor{vhdlchar}{)};
00078 
00079 \textcolor{keywordflow}{end} \textcolor{keywordflow}{entity} \textcolor{vhdlchar}{FX3\_slaveFIFO5b\_top};
00080 
00081 \textcolor{keywordflow}{architecture} arch \textcolor{keywordflow}{of} FX3_slaveFIFO5b_top is
00082 
00083 \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{socket0_wrusedw_size} \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{11};
00084 \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{socket0_rdusedw_size} \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10}; 
00085 
00086 \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{socket1_wrusedw_size} \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{9};
00087 \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{socket1_rdusedw_size} \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{9}; 
00088 
00089 \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{socket2_wrusedw_size} \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10};
00090 \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{socket2_rdusedw_size} \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{11};
00091 
00092 \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{socket3_wrusedw_size} \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{9};
00093 \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{socket3_rdusedw_size} \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{9};
00094 
00095 
00096 \textcolor{keyword}{    --socket 0 (configured to read data from it PC->FPGA)}
00097 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst1_socket0_fifo_data}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00098 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst1_socket0_fifo_wrusedw}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{socket0_wrusedw_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00099 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst1_socket0_fifo_wr}                \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00100 
00101 \textcolor{keyword}{    --socket 1 (configured to read control data from it PC->FPGA)}
00102 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst1_socket1_fifo_data}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00103 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst1_socket1_fifo_wrusedw}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{socket1_wrusedw_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00104 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst1_socket1_fifo_wr}                \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00105 
00106 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst2_fifo_wrusedw}                   \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{
      socket0_wrusedw_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00107 
00108 
00109 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst4_fifo_q}                         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00110 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst4_fifo_rdusedw}                   \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{
      socket2_rdusedw_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00111 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst4_fifo_rd}                            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00112 
00113 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst5_fifo_q}                         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00114 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst5_fifo_rdusedw}                   \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{
      socket3_rdusedw_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00115 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst5_fifo_rd}                            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00116 
00117 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr_clk_out}                          \textcolor{vhdlchar}{:}\textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00118 
00119 
00120 \textcolor{keywordflow}{component} slaveFIFO5b \textcolor{keywordflow}{is}
00121     \textcolor{keywordflow}{generic} (num_of_sockets         : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1};
00122                 data_width              : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{32};                                \textcolor{keyword}{--when data\_width
       is changed to 16b, socketx\_wrusedw\_size and }
00123 \textcolor{keyword}{                                                                                                
      --socketx\_rdusedw\_size has to be doubled to maintain same size}
00124                 data_dma_size           : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1024};                          \textcolor{keyword}{--data endpoint dma
       size in bytes}
00125                 control_dma_size        : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1024};                          \textcolor{keyword}{--control endpoint dma
       size in bytes}
00126                 data_pct_size           : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1024};                          \textcolor{keyword}{--packet size in bytes}
00127                 control_pct_size        : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{64};                                \textcolor{keyword}{--packet size in
       bytes, should be less then max dma size}
00128                 socket0_wrusedw_size : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{11};
00129                 socket0_rdusedw_size    : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10};
00130                 socket1_wrusedw_size : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{11};
00131                 socket1_rdusedw_size    : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10};
00132                 socket2_wrusedw_size : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{11};
00133                 socket2_rdusedw_size    : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10};
00134                 socket3_wrusedw_size : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{11};
00135                 socket3_rdusedw_size    : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10}
00136                 );
00137     \textcolor{keywordflow}{port}(
00138         reset_n                     : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};                                 \textcolor{keyword}{--input reset active
       low}
00139         clk                 : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};                                 \textcolor{keyword}{--input clk 100 Mhz  }
00140         clk_out             : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};                                    \textcolor{keyword}{--output clk 100 Mhz }
00141         usb_speed               : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};                                 \textcolor{keyword}{--USB3.0 - 1, USB2.0 - 0}
00142         slcs                    : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};                                    \textcolor{keyword}{--output chip select}
00143         fdata                   : \textcolor{keywordflow}{inout} \textcolor{comment}{std\_logic\_vector}(data_width\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});         
00144         faddr                   : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});         \textcolor{keyword}{--output fifo address}
00145         slrd                    : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};                                    \textcolor{keyword}{--output read select}
00146         sloe                    : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};                                    \textcolor{keyword}{--output output enable
       select}
00147         slwr                    : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};                                    \textcolor{keyword}{--output write select}
00148                     
00149       flaga                 : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};                                
00150         flagb                   : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00151       flagc                 : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};                                 \textcolor{keyword}{--Not used in 5bit addres mode}
00152       flagd                 : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};                                 \textcolor{keyword}{--Not used in 5bit addres mode}
00153 
00154         pktend              : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};                                    \textcolor{keyword}{--output pkt end }
00155         EPSWITCH                    : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00156         
00157 \textcolor{keyword}{        --socket 0 (configured to read data from it PC->FPGA)}
00158         socket0_fifo_data           : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(data_width\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00159         socket0_fifo_q              : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(data_width\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00160         socket0_fifo_wrusedw        : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(socket0_wrusedw_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00161         socket0_fifo_rdusedw        : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(socket0_rdusedw_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00162         socket0_fifo_wr         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00163         socket0_fifo_rd         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00164 
00165 \textcolor{keyword}{        --socket 1 (configured to read control data from it PC->FPGA)}
00166         socket1_fifo_data           : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(data_width\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00167         socket1_fifo_q              : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(data_width\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00168         socket1_fifo_wrusedw        : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(socket1_wrusedw_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00169         socket1_fifo_rdusedw        : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(socket1_rdusedw_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00170         socket1_fifo_wr         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00171         socket1_fifo_rd         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00172 
00173 \textcolor{keyword}{        --socket 2 (configured to write data to it FPGA->PC)}
00174         socket2_fifo_data           : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(data_width\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00175         socket2_fifo_q              : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(data_width\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00176         socket2_fifo_wrusedw        : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(socket2_wrusedw_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00177         socket2_fifo_rdusedw        : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(socket2_rdusedw_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00178         socket2_fifo_wr         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00179         socket2_fifo_rd         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00180 
00181 \textcolor{keyword}{        --socket 3 (configured to write control data to it FPGA->PC)}
00182         socket3_fifo_data           : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(data_width\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00183         socket3_fifo_q              : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(data_width\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00184         socket3_fifo_wrusedw        : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(socket3_wrusedw_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00185         socket3_fifo_rdusedw        : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(socket3_rdusedw_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00186         socket3_fifo_wr         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00187         socket3_fifo_rd         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00188         GPIF_busy                   : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic}
00189 
00190         );
00191 \textcolor{keywordflow}{end} \textcolor{keywordflow}{component};
00192 
00193 \textcolor{keywordflow}{component} fifo_inst \textcolor{keywordflow}{is}
00194   \textcolor{keywordflow}{generic}(dev_family         : \textcolor{comment}{string}  := \textcolor{keyword}{"Cyclone IV E"};
00195           wrwidth         : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{24};
00196           wrusedw_witdth  : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{12}; \textcolor{keyword}{--12=2048 words }
00197           rdwidth         : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{48};
00198           rdusedw_width   : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{11};
00199           show_ahead      : \textcolor{comment}{string}  := \textcolor{keyword}{"ON"}
00200   );  
00201   \textcolor{keywordflow}{port} (
00202 \textcolor{keyword}{      --input ports }
00203       reset_n       : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00204       wrclk         : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00205       wrreq         : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00206       data          : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(wrwidth\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00207       wrfull        : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00208         wrempty       : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00209       wrusedw       : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(wrusedw_witdth\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00210       rdclk          : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00211       rdreq         : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00212       q             : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(rdwidth\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00213       rdempty       : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00214       rdusedw       : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(rdusedw_width\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0})     
00215         );
00216 \textcolor{keywordflow}{end} \textcolor{keywordflow}{component};
00217 
00218 \textcolor{vhdlkeyword}{begin}
00219     
00220     ALTDDIO\_OUT\_component : ALTDDIO\_OUT
00221     \textcolor{keywordflow}{GENERIC} \textcolor{keywordflow}{MAP} (
00222         extend\_oe\_disable       => \textcolor{keyword}{"OFF"},
00223         intended\_device\_family  => dev_family,
00224         invert\_output               => \textcolor{keyword}{"OFF"},
00225         lpm\_hint                    => \textcolor{keyword}{"UNUSED"},
00226         lpm\_type                    => \textcolor{keyword}{"altddio\_out"},
00227         oe\_reg                      => \textcolor{keyword}{"UNREGISTERED"},
00228         power\_up\_high               => \textcolor{keyword}{"OFF"},
00229         width                       => \textcolor{vhdllogic}{1}
00230     \textcolor{vhdlchar}{)}
00231     \textcolor{keywordflow}{PORT} \textcolor{keywordflow}{MAP} (
00232         datain\_h => "\textcolor{vhdllogic}{0}",
00233         datain\_l => "\textcolor{vhdllogic}{1}",
00234         outclock => clk,
00235         dataout     => ddr_clk_out
00236     \textcolor{vhdlchar}{)};
00237     
00238 \textcolor{vhdlchar}{clk_out}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{ddr_clk_out}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};    
00239     
00240 inst1 : slaveFIFO5b 
00241     \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map} (
00242                 num_of_sockets      => \textcolor{vhdllogic}{1},
00243                 data_width              => \textcolor{vhdllogic}{32},\textcolor{keyword}{                          --when data\_width is changed to
       16b, socketx\_wrusedw\_size and }
00244 \textcolor{keyword}{                                                                                --socketx\_rdusedw\_size has
       to be doubled to maintain same size}
00245                 data_dma_size           => \textcolor{vhdllogic}{4096},\textcolor{keyword}{                            --data endpoint dma size in
       bytes}
00246                 control_dma_size        => \textcolor{vhdllogic}{4096},\textcolor{keyword}{                            --control endpoint dma size in
       bytes}
00247                 data_pct_size           => \textcolor{vhdllogic}{4096},\textcolor{keyword}{                            --packet size in bytes}
00248                 control_pct_size        => \textcolor{vhdllogic}{64},\textcolor{keyword}{                          --packet size in bytes, should be
       less then max dma size}
00249                 socket0_wrusedw_size => socket0_wrusedw_size,
00250                 socket0_rdusedw_size    => socket0_rdusedw_size,
00251                 socket1_wrusedw_size => socket1_wrusedw_size,
00252                 socket1_rdusedw_size    => socket1_rdusedw_size,
00253                 socket2_wrusedw_size => socket2_wrusedw_size,
00254                 socket2_rdusedw_size    => socket2_rdusedw_size,
00255                 socket3_wrusedw_size => socket3_wrusedw_size,
00256                 socket3_rdusedw_size    => socket3_rdusedw_size
00257                 \textcolor{vhdlchar}{)}
00258     \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00259         reset_n                     => reset_n,\textcolor{keyword}{                             --input reset active low}
00260         clk                 => clk,\textcolor{keyword}{                                     --input clk 100 Mhz  }
00261         clk_out             => \textcolor{keywordflow}{open},\textcolor{keyword}{                                --output clk 100 Mhz }
00262         usb_speed               => usb_speed,\textcolor{keyword}{                           --USB3.0 - 1, USB2.0 - 0}
00263         slcs                    => slcs,\textcolor{keyword}{                                    --output chip select}
00264         fdata                   => fdata,         
00265         faddr                   => faddr,\textcolor{keyword}{                               --output fifo address}
00266         slrd                    => slrd,\textcolor{keyword}{                                --output read select}
00267         sloe                    => sloe,\textcolor{keyword}{                                    --output output enable select}
00268         slwr                    => slwr,\textcolor{keyword}{                                    --output write select}
00269                     
00270       flaga                 => flaga,                               
00271         flagb                   => flagb,
00272       flagc                 => flagc,\textcolor{keyword}{                               --Not used in 5bit addres mode}
00273       flagd                 => flagd,\textcolor{keyword}{                               --Not used in 5bit addres mode}
00274 
00275         pktend              => pktend,\textcolor{keyword}{                              --output pkt end }
00276         EPSWITCH                    => EPSWITCH,
00277         
00278 \textcolor{keyword}{        --socket 0 (configured to read data from it PC->FPGA)}
00279         socket0_fifo_data           => inst1_socket0_fifo_data, 
00280         socket0_fifo_q              => \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others} => '0'\textcolor{vhdlchar}{)}, 
00281         socket0_fifo_wrusedw        => inst1_socket0_fifo_wrusedw,
00282         socket0_fifo_rdusedw        => \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others} => '0'\textcolor{vhdlchar}{)}, 
00283         socket0_fifo_wr         => inst1_socket0_fifo_wr,
00284         socket0_fifo_rd         => \textcolor{keywordflow}{open}, 
00285 
00286 \textcolor{keyword}{        --socket 1 (configured to read control data from it PC->FPGA)}
00287         socket1_fifo_data           => inst1_socket1_fifo_data,
00288         socket1_fifo_q              => \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others} => '0'\textcolor{vhdlchar}{)},
00289         socket1_fifo_wrusedw        => inst1_socket1_fifo_wrusedw,
00290         socket1_fifo_rdusedw        => \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others} => '0'\textcolor{vhdlchar}{)},
00291         socket1_fifo_wr         => inst1_socket1_fifo_wr,
00292         socket1_fifo_rd         => \textcolor{keywordflow}{open},
00293 
00294 \textcolor{keyword}{        --socket 2 (configured to write data to it FPGA->PC)}
00295         socket2_fifo_data           => \textcolor{keywordflow}{open}, 
00296         socket2_fifo_q              => inst4_fifo_q,
00297         socket2_fifo_wrusedw        => \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others} => '0'\textcolor{vhdlchar}{)}, 
00298         socket2_fifo_rdusedw        => inst4_fifo_rdusedw,
00299         socket2_fifo_wr         => \textcolor{keywordflow}{open}, 
00300         socket2_fifo_rd         => inst4_fifo_rd,
00301 
00302 \textcolor{keyword}{        --socket 3 (configured to write control data to it FPGA->PC)}
00303         socket3_fifo_data           => \textcolor{keywordflow}{open}, 
00304         socket3_fifo_q              => inst5_fifo_q,
00305         socket3_fifo_wrusedw        => \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others} => '0'\textcolor{vhdlchar}{)}, 
00306         socket3_fifo_rdusedw        => inst5_fifo_rdusedw,
00307         socket3_fifo_wr         => \textcolor{keywordflow}{open}, 
00308         socket3_fifo_rd         => inst5_fifo_rd,
00309         GPIF_busy                   => GPIF_busy
00310         
00311         \textcolor{vhdlchar}{)};  
00312          
00313 \textcolor{keyword}{--inst2 : fifo\_inst --(for 01 endpoint, socket 0)}
00314 \textcolor{keyword}{--  generic map(}
00315 \textcolor{keyword}{--                  dev\_family      => dev\_family,}
00316 \textcolor{keyword}{--                  wrwidth         => data\_width,}
00317 \textcolor{keyword}{--                  wrusedw\_witdth  => socket0\_wrusedw\_size,  }
00318 \textcolor{keyword}{--                  rdwidth         => EP01\_rwidth,}
00319 \textcolor{keyword}{--                  rdusedw\_width   => socket0\_rdusedw\_size,}
00320 \textcolor{keyword}{--                  show\_ahead      => "OFF"}
00321 \textcolor{keyword}{--  )}
00322 \textcolor{keyword}{--  port map(}
00323 \textcolor{keyword}{--      --input ports }
00324 \textcolor{keyword}{--      reset\_n       => reset\_n,}
00325 \textcolor{keyword}{--      wrclk         => clk,}
00326 \textcolor{keyword}{--      wrreq         => inst1\_socket0\_fifo\_wr,}
00327 \textcolor{keyword}{--      data          => inst1\_socket0\_fifo\_data,}
00328 \textcolor{keyword}{--      wrfull        => open,}
00329 \textcolor{keyword}{--      wrempty       => open,}
00330 \textcolor{keyword}{--      wrusedw       => inst2\_fifo\_wrusedw,}
00331 \textcolor{keyword}{--      rdclk        => EP01\_rdclk,}
00332 \textcolor{keyword}{--      rdreq         => EP01\_rd,}
00333 \textcolor{keyword}{--      q             => EP01\_rdata,}
00334 \textcolor{keyword}{--      rdempty       => EP01\_rempty,}
00335 \textcolor{keyword}{--      rdusedw       => open   }
00336 \textcolor{keyword}{--        );}
00337           
00338 \textcolor{vhdlchar}{ext_buff_wr}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{inst1_socket0_fifo_wr};   
00339 inst1\_socket0\_fifo\_wrusedw<=(others=>'0') \textcolor{keywordflow}{when} ext\_buff\_rdy='1' \textcolor{keywordflow}{else} 
00340                                     \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};  
00341                                     
00342 \textcolor{vhdlchar}{ext_buff_data}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{inst1_socket0_fifo_data};
00343         
00344 inst3 : fifo_inst --(\textcolor{keywordflow}{for} \textcolor{vhdllogic}{0F} endpoint, socket \textcolor{vhdllogic}{1})
00345   \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map}(
00346                     dev\_family      => dev_family,
00347                     wrwidth         => data_width,
00348                     wrusedw\_witdth  => socket1_wrusedw_size,  
00349                     rdwidth         => EP0F_rwidth,
00350                     rdusedw\_width   => socket1_rdusedw_size,
00351                     show\_ahead      => \textcolor{keyword}{"OFF"}
00352   \textcolor{vhdlchar}{)}
00353   \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00354 \textcolor{keyword}{      --input ports }
00355       reset\_n       => reset_n,
00356       wrclk         => clk,
00357       wrreq         => inst1_socket1_fifo_wr,
00358       data          => inst1_socket1_fifo_data,
00359       wrfull        => \textcolor{keywordflow}{open},
00360         wrempty       => \textcolor{keywordflow}{open},
00361       wrusedw       => inst1_socket1_fifo_wrusedw,
00362       rdclk          => EP0F_rdclk,
00363       rdreq         => EP0F_rd,
00364       q             => EP0F_rdata,
00365       rdempty       => EP0F_rempty,
00366       rdusedw       => \textcolor{keywordflow}{open}     
00367         \textcolor{vhdlchar}{)};  
00368         
00369 inst4 : fifo_inst --(\textcolor{keywordflow}{for} \textcolor{vhdllogic}{81} endpoint, socket \textcolor{vhdllogic}{2})
00370   \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map}(
00371                     dev\_family      => dev_family,
00372                     wrwidth         => EP81_wwidth,
00373                     wrusedw\_witdth  => EP81_wrusedw_width,  
00374                     rdwidth         => data_width,
00375                     rdusedw\_width   => socket2_rdusedw_size,
00376                     show\_ahead      => \textcolor{keyword}{"ON"}
00377   \textcolor{vhdlchar}{)} 
00378   \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00379 \textcolor{keyword}{      --input ports }
00380       reset\_n       => EP81_aclrn,
00381       wrclk         => EP81_wclk,
00382       wrreq         => EP81_wr,
00383       data          => EP81_wdata,
00384       wrfull        => EP81_wfull,
00385         wrempty       => \textcolor{keywordflow}{open},
00386       wrusedw       => EP81_wrusedw,
00387       rdclk          => clk,
00388       rdreq         => inst4_fifo_rd,
00389       q             => inst4_fifo_q,
00390       rdempty       => \textcolor{keywordflow}{open},
00391       rdusedw       => inst4_fifo_rdusedw    
00392         \textcolor{vhdlchar}{)};
00393     
00394 inst5 : fifo_inst --(\textcolor{keywordflow}{for} \textcolor{vhdllogic}{8F} endpoint, socket \textcolor{vhdllogic}{3})
00395   \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map}(
00396                     dev\_family      => dev_family,
00397                     wrwidth         => EP8F_wwidth,
00398                     wrusedw\_witdth  => socket3_wrusedw_size,  
00399                     rdwidth         => data_width,
00400                     rdusedw\_width   => socket3_rdusedw_size,
00401                     show\_ahead      => \textcolor{keyword}{"ON"}
00402   \textcolor{vhdlchar}{)} 
00403   \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00404 \textcolor{keyword}{      --input ports }
00405       reset\_n       => EP8F_aclrn,
00406       wrclk         => EP8F_wclk,
00407       wrreq         => EP8F_wr,
00408       data          => EP8F_wdata,
00409       wrfull        => EP8F_wfull,
00410         wrempty       => \textcolor{keywordflow}{open},
00411       wrusedw       => \textcolor{keywordflow}{open},
00412       rdclk          => clk,
00413       rdreq         => inst5_fifo_rd,
00414       q             => inst5_fifo_q,
00415       rdempty       => \textcolor{keywordflow}{open},
00416       rdusedw       => inst5_fifo_rdusedw    
00417         \textcolor{vhdlchar}{)};      
00418     
00419           
00420           
00421 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{arch};
00422 
00423 
00424 
00425 
00426 
00427 
00428 
\end{DoxyCode}
