\subsection{smpl\+\_\+cnt\+\_\+tb.\+vhd}
\label{smpl__cnt__tb_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/rx\+\_\+path\+\_\+top/smpl\+\_\+cnt/sim/smpl\+\_\+cnt\+\_\+tb.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/rx\+\_\+path\+\_\+top/smpl\+\_\+cnt/sim/smpl\+\_\+cnt\+\_\+tb.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00002 \textcolor{keyword}{-- FILE:    smpl\_cnt\_tb.vhd}
00003 \textcolor{keyword}{-- DESCRIPTION: }
00004 \textcolor{keyword}{-- DATE:    Feb 13, 2014}
00005 \textcolor{keyword}{-- AUTHOR(s):   Lime Microsystems}
00006 \textcolor{keyword}{-- REVISIONS:}
00007 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00008 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00009 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00010 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00011 
00012 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00013 \textcolor{keyword}{-- Entity declaration}
00014 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00015 \textcolor{keywordflow}{entity }smpl_cnt_tb \textcolor{keywordflow}{is}
00016 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{smpl\_cnt\_tb};
00017 
00018 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00019 \textcolor{keyword}{-- Architecture}
00020 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00021 
00022 \textcolor{keywordflow}{architecture} tb\_behave \textcolor{keywordflow}{of} smpl_cnt_tb is
00023    \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{clk0_period}   \textcolor{vhdlchar}{:} \textcolor{comment}{time} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10} \textcolor{vhdlchar}{ns};
00024    \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{clk1_period}   \textcolor{vhdlchar}{:} \textcolor{comment}{time} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10} \textcolor{vhdlchar}{ns}; 
00025 \textcolor{keyword}{   --signals}
00026     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{clk1}        \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00027     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{reset_n}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic}; 
00028    
00029 \textcolor{keyword}{   --dut0}
00030    
00031    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut0_cnt_en} \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00032  
00033 
00034 \textcolor{vhdlkeyword}{begin }
00035   
00036       clock0: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00037 \textcolor{vhdlkeyword}{    begin}
00038         \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk0_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00039         \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk0_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00040     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{clock0};
00041 
00042     clock: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00043 \textcolor{vhdlkeyword}{    begin}
00044         \textcolor{vhdlchar}{clk1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk1_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00045         \textcolor{vhdlchar}{clk1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk1_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00046     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{clock};
00047     
00048         res: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00049 \textcolor{vhdlkeyword}{    begin}
00050         \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{20} \textcolor{vhdlchar}{ns};
00051         \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait};
00052     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{res};
00053    
00054    
00055  \textcolor{keywordflow}{process}(clk0, reset_n)
00056 \textcolor{vhdlkeyword}{   begin}
00057       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00058          \textcolor{vhdlchar}{dut0_cnt_en} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00059       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then} 
00060 \textcolor{keyword}{         --dut0\_cnt\_en <= not dut0\_cnt\_en;}
00061          \textcolor{vhdlchar}{dut0_cnt_en} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00062       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00063    \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00064    
00065     
00066   
00067 smpl\_cnt\_dut0 : \textcolor{keywordflow}{entity} work.smpl_cnt 
00068    \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map}(
00069       cnt_width   =>  \textcolor{vhdllogic}{64}
00070    \textcolor{vhdlchar}{)}
00071    \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00072 
00073       clk         => clk0,
00074       reset_n     => reset_n,
00075 \textcolor{keyword}{      --Mode settings}
00076       mode          => '0',\textcolor{keyword}{ -- JESD207: 1; TRXIQ: 0}
00077         trxiqpulse  => '0',\textcolor{keyword}{ -- trxiqpulse on: 1; trxiqpulse off: 0}
00078         ddr_en      => '1',\textcolor{keyword}{ -- DDR: 1; SDR: 0}
00079         mimo_en     => '1',\textcolor{keyword}{ -- SISO: 1; MIMO: 0}
00080         ch_en           => "\textcolor{vhdllogic}{11}",\textcolor{keyword}{ --"01" - Ch. A, "10" - Ch. B, "11" - Ch. A and Ch. B.}
00081 \textcolor{keyword}{      --cnt}
00082       sclr        => '1',
00083       sload       => '0',
00084       data        => \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}=>'1'\textcolor{vhdlchar}{)},
00085       cnt_en      => dut0_cnt_en,
00086       q           => \textcolor{keywordflow}{open}
00087           
00088         \textcolor{vhdlchar}{)};
00089     
00090     \textcolor{keywordflow}{end} \textcolor{vhdlchar}{tb\_behave};
00091   
00092   
00093 
00094 
00095   
\end{DoxyCode}
