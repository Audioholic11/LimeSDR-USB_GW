\subsection{pack\+\_\+48\+\_\+to\+\_\+64.\+vhd}
\label{rx__path__top_2bit__pack_2synth_2pack__48__to__64_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/rx\+\_\+path\+\_\+top/bit\+\_\+pack/synth/pack\+\_\+48\+\_\+to\+\_\+64.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/rx\+\_\+path\+\_\+top/bit\+\_\+pack/synth/pack\+\_\+48\+\_\+to\+\_\+64.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{-- ----------------------------------------------------------------------------    }
00002 \textcolor{keyword}{-- FILE:     pack\_48\_to\_64.vhd}
00003 \textcolor{keyword}{-- DESCRIPTION:    packs bits from 48 to 64 bits}
00004 \textcolor{keyword}{-- DATE:    Nov 14, 2016}
00005 \textcolor{keyword}{-- AUTHOR(s):    Lime Microsystems}
00006 \textcolor{keyword}{-- REVISIONS:}
00007 \textcolor{keyword}{-- ----------------------------------------------------------------------------    }
00008 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00009 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00010 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00011 
00012 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00013 \textcolor{keyword}{-- Entity declaration}
00014 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00015 \textcolor{keywordflow}{entity }pack_48_to_64 \textcolor{keywordflow}{is}
00016   \textcolor{keywordflow}{port} \textcolor{vhdlchar}{(}
00017 \textcolor{keyword}{      --input ports }
00018       \textcolor{vhdlchar}{clk}            \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00019       \textcolor{vhdlchar}{reset_n}        \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00020       \textcolor{vhdlchar}{data_in_wrreq}  \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00021       \textcolor{vhdlchar}{data48_in}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00022       \textcolor{vhdlchar}{data64_out}     \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00023       \textcolor{vhdlchar}{data_out_valid} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic}
00024         \textcolor{vhdlchar}{)};
00025 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{pack\_48\_to\_64};
00026 
00027 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00028 \textcolor{keyword}{-- Architecture}
00029 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00030 \textcolor{keywordflow}{architecture} arch \textcolor{keywordflow}{of} pack_48_to_64 is
00031 \textcolor{keyword}{--declare signals,  components here}
00032 
00033 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_0}            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00034 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_1}            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00035 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_2}            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00036 
00037 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_0_valid}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00038 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_1_valid}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00039 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_2_valid}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00040 
00041 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data64_out_mux}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00042 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data64_out_reg}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00043 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data_out_valid_reg}  \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00044 
00045 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wr_cnt}              \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00046 
00047 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data48_in_reg}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00048 
00049 \textcolor{vhdlkeyword}{begin}
00050 
00051 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00052 \textcolor{keyword}{-- Input data register}
00053 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00054 \textcolor{keywordflow}{process}(reset_n, clk)
00055 \textcolor{vhdlkeyword}{begin}
00056    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00057       \textcolor{vhdlchar}{data48_in_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00058    \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00059       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{data_in_wrreq} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00060          \textcolor{vhdlchar}{data48_in_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data48_in};
00061       \textcolor{keywordflow}{else} 
00062          \textcolor{vhdlchar}{data48_in_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data48_in_reg};
00063       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00064    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00065 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00066 
00067 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00068 \textcolor{keyword}{-- Write counter}
00069 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00070 \textcolor{keywordflow}{process}(clk, reset_n) \textcolor{keywordflow}{is} 
00071 \textcolor{vhdlkeyword}{begin }
00072    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00073       \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00074    \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00075       \textcolor{keywordflow}{if}  \textcolor{vhdlchar}{data_in_wrreq} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00076          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{<} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{then} 
00077             \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{+} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1};
00078          \textcolor{keywordflow}{else} 
00079             \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00080          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00081       \textcolor{keywordflow}{else}
00082          \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{wr_cnt};
00083       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00084    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00085 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00086 
00087 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00088 \textcolor{keyword}{-- 64b word formation}
00089 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00090 \textcolor{keywordflow}{process}(reset_n, clk)
00091 \textcolor{vhdlkeyword}{begin}
00092    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00093       \textcolor{vhdlchar}{word64_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00094       \textcolor{vhdlchar}{word64_0_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00095    \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00096       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00097          \textcolor{vhdlchar}{word64_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data48_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data48_in_reg};
00098          \textcolor{vhdlchar}{word64_0_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00099       \textcolor{keywordflow}{else} 
00100          \textcolor{vhdlchar}{word64_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{word64_0};
00101          \textcolor{vhdlchar}{word64_0_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00102       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00103    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00104 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00105 
00106 \textcolor{keywordflow}{process}(reset_n, clk)
00107 \textcolor{vhdlkeyword}{begin}
00108    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00109       \textcolor{vhdlchar}{word64_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00110       \textcolor{vhdlchar}{word64_1_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00111    \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00112       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00113          \textcolor{vhdlchar}{word64_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data48_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data48_in_reg}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{16}\textcolor{vhdlchar}{)};
00114          \textcolor{vhdlchar}{word64_1_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00115       \textcolor{keywordflow}{else} 
00116          \textcolor{vhdlchar}{word64_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{word64_1};
00117          \textcolor{vhdlchar}{word64_1_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00118       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00119    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00120 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00121 
00122 \textcolor{keywordflow}{process}(reset_n, clk)
00123 \textcolor{vhdlkeyword}{begin}
00124    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00125       \textcolor{vhdlchar}{word64_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00126       \textcolor{vhdlchar}{word64_2_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00127    \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00128       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00129          \textcolor{vhdlchar}{word64_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data48_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data48_in_reg}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{32}\textcolor{vhdlchar}{)};
00130          \textcolor{vhdlchar}{word64_2_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00131       \textcolor{keywordflow}{else} 
00132          \textcolor{vhdlchar}{word64_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{word64_2};
00133          \textcolor{vhdlchar}{word64_2_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00134       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00135    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00136 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00137 
00138 
00139 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00140 \textcolor{keyword}{-- 64b word output mux}
00141 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00142 \textcolor{vhdlchar}{data64_out_mux}\textcolor{vhdlchar}{<=}  \textcolor{vhdlchar}{word64_0} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{word64_0_valid} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} 
00143                   \textcolor{vhdlchar}{word64_1} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{word64_1_valid} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else}
00144                   \textcolor{vhdlchar}{word64_2};
00145 
00146 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00147 \textcolor{keyword}{-- Output register stage}
00148 \textcolor{keyword}{-- ----------------------------------------------------------------------------                  }
00149 \textcolor{keywordflow}{process}(reset_n, clk)
00150 \textcolor{vhdlkeyword}{begin}
00151    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00152       \textcolor{vhdlchar}{data64_out_reg}       \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00153       \textcolor{vhdlchar}{data_out_valid_reg}   \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};        
00154    \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00155       \textcolor{vhdlchar}{data64_out_reg}     \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data64_out_mux}; 
00156       \textcolor{vhdlchar}{data_out_valid_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{word64_0_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word64_1_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word64_2_valid};
00157    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00158 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00159     
00160 \textcolor{vhdlchar}{data64_out}     \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data64_out_reg};
00161 \textcolor{vhdlchar}{data_out_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data_out_valid_reg};
00162 
00163 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{arch};   
00164 
00165 
00166 
\end{DoxyCode}
