\subsection{unpack\+\_\+64\+\_\+to\+\_\+56.\+vhd}
\label{unpack__64__to__56_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/tx\+\_\+path\+\_\+top/bit\+\_\+unpack/synth/unpack\+\_\+64\+\_\+to\+\_\+56.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/tx\+\_\+path\+\_\+top/bit\+\_\+unpack/synth/unpack\+\_\+64\+\_\+to\+\_\+56.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00002 \textcolor{keyword}{-- FILE:    unpack\_64\_to\_56.vhd}
00003 \textcolor{keyword}{-- DESCRIPTION: unpacks bits from 64b words to 14 bit samples}
00004 \textcolor{keyword}{-- DATE:    March 30, 2017}
00005 \textcolor{keyword}{-- AUTHOR(s):   Lime Microsystems}
00006 \textcolor{keyword}{-- REVISIONS:}
00007 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00008 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00009 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00010 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00011 
00012 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00013 \textcolor{keyword}{-- Entity declaration}
00014 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00015 \textcolor{keywordflow}{entity }unpack_64_to_56 \textcolor{keywordflow}{is}
00016   \textcolor{keywordflow}{port} \textcolor{vhdlchar}{(}
00017 \textcolor{keyword}{      --input ports }
00018       \textcolor{vhdlchar}{clk}               \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00019       \textcolor{vhdlchar}{reset_n}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00020         \textcolor{vhdlchar}{data_in_wrreq}   \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00021         \textcolor{vhdlchar}{data64_in}       \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00022         \textcolor{vhdlchar}{data56_out}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00023         \textcolor{vhdlchar}{data_out_valid}  \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic}
00024        
00025         \textcolor{vhdlchar}{)};
00026 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{unpack\_64\_to\_56};
00027 
00028 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00029 \textcolor{keyword}{-- Architecture}
00030 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00031 \textcolor{keywordflow}{architecture} arch \textcolor{keywordflow}{of} unpack_64_to_56 is
00032 \textcolor{keyword}{--declare signals,  components here}
00033 
00034 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word128_0}                    \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00035 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word128_1}                    \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00036 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word128_2}                    \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00037 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word128_3}                    \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00038 
00039 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word128_0_valid}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00040 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word128_1_valid}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00041 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word128_2_valid}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00042 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word128_3_valid}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00043 
00044 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wr_cnt}                       \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00045 
00046 
00047 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data64_in_reg_0}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00048 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data64_in_reg_1}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00049 
00050 \textcolor{keyword}{--output mux network}
00051 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_1_0}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00052 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_3_2}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00053 
00054 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_1_0_reg}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00055 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_3_2_reg}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00056 
00057 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage1_3_0}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00058 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage1_3_0_reg}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00059 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage1_3_0_sel}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00060 
00061 
00062 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data_out_valid_reg}   \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00063 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data_out_valid_pipe}  \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00064 
00065 
00066  
00067 \textcolor{vhdlkeyword}{begin}
00068 
00069 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00070 \textcolor{keyword}{-- Input data register}
00071 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00072   \textcolor{keywordflow}{process}(reset_n, clk)
00073 \textcolor{vhdlkeyword}{    begin}
00074       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00075          \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00076       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00077          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{data_in_wrreq} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00078             \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data64_in};
00079             \textcolor{vhdlchar}{data64_in_reg_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data64_in_reg_0};
00080          \textcolor{keywordflow}{else} 
00081             \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data64_in_reg_0};
00082             \textcolor{vhdlchar}{data64_in_reg_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data64_in_reg_1};
00083          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00084         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00085     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00086 
00087 
00088 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00089 \textcolor{keyword}{-- Write counter}
00090 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00091 \textcolor{keywordflow}{process}(clk, reset_n) \textcolor{keywordflow}{is} 
00092 \textcolor{vhdlkeyword}{    begin }
00093         \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00094             \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00095         \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00096             \textcolor{keywordflow}{if}  \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00097                 \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{<} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{6} \textcolor{keywordflow}{then} 
00098                     \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1};
00099                 \textcolor{keywordflow}{else} 
00100                     \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00101                 \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00102             \textcolor{keywordflow}{else}
00103                 \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{wr_cnt};
00104             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00105         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00106 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00107 
00108 
00109 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00110 \textcolor{keyword}{-- 64b word formation}
00111 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00112 \textcolor{keyword}{--1 stage}
00113 
00114   \textcolor{keywordflow}{process}(reset_n, clk)
00115 \textcolor{vhdlkeyword}{    begin}
00116       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00117             \textcolor{vhdlchar}{word128_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00118          \textcolor{vhdlchar}{word128_0_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00119       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00120             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00121             \textcolor{vhdlchar}{word128_0}\textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{34}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00122                         \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{33} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{20}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00123                         \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{19} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{6}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&} 
00124                         \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{5} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{56}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}                     
         
00125                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{55} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{42}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00126                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{41} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{28}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00127                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{27} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{14}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00128                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{13} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"};
00129             \textcolor{vhdlchar}{word128_0_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00130             \textcolor{keywordflow}{else} 
00131                 \textcolor{vhdlchar}{word128_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word128_0};
00132             \textcolor{vhdlchar}{word128_0_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00133             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00134         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00135     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00136      
00137 \textcolor{keyword}{--2 stage}
00138 
00139   \textcolor{keywordflow}{process}(reset_n, clk)
00140 \textcolor{vhdlkeyword}{    begin}
00141       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00142             \textcolor{vhdlchar}{word128_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00143          \textcolor{vhdlchar}{word128_1_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00144       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00145             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}        
00146                 \textcolor{vhdlchar}{word128_1}\textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{18}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00147                         \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{17} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{4}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00148                         \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{54}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00149                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{53} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{40}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00150                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{39} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{26}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00151                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{25} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{12}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00152                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{11} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data64_in_reg_1}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{62}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00153                         \textcolor{vhdlchar}{data64_in_reg_1}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{61} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{48}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"};
00154             \textcolor{vhdlchar}{word128_1_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00155             \textcolor{keywordflow}{else} 
00156                 \textcolor{vhdlchar}{word128_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word128_1};
00157             \textcolor{vhdlchar}{word128_1_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00158             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00159         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00160     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00161 
00162 \textcolor{keyword}{--3 stage}
00163 
00164   \textcolor{keywordflow}{process}(reset_n, clk)
00165 \textcolor{vhdlkeyword}{    begin}
00166       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00167             \textcolor{vhdlchar}{word128_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00168          \textcolor{vhdlchar}{word128_2_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00169       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00170             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{5} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00171                 \textcolor{vhdlchar}{word128_2}\textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00172                         \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{52}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00173                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{51} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{38}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00174                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{37} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{24}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00175                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{23} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00176                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{9} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data64_in_reg_1}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{60}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00177                         \textcolor{vhdlchar}{data64_in_reg_1}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{59} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{46}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&} 
00178                         \textcolor{vhdlchar}{data64_in_reg_1}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{45} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{32}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"};
00179             \textcolor{vhdlchar}{word128_2_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00180             \textcolor{keywordflow}{else} 
00181                 \textcolor{vhdlchar}{word128_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word128_2};
00182             \textcolor{vhdlchar}{word128_2_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00183             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00184         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00185     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00186      
00187 \textcolor{keyword}{--4 stage}
00188 
00189   \textcolor{keywordflow}{process}(reset_n, clk)
00190 \textcolor{vhdlkeyword}{    begin}
00191       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00192             \textcolor{vhdlchar}{word128_3}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00193          \textcolor{vhdlchar}{word128_3_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00194       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00195             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{6} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00196                 \textcolor{vhdlchar}{word128_3}\textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{50}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00197                         \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{49} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{36}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00198                         \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{35} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{22}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00199                         \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{21} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{8}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00200                         \textcolor{vhdlchar}{data64_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{58}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&}
00201                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{57} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{44}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&} 
00202                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{43} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{30}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"} \textcolor{vhdlchar}{&} 
00203                         \textcolor{vhdlchar}{data64_in_reg_0}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{29} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{16}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdllogic}{"00"};
00204             \textcolor{vhdlchar}{word128_3_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00205             \textcolor{keywordflow}{else} 
00206                 \textcolor{vhdlchar}{word128_3}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word128_3};
00207             \textcolor{vhdlchar}{word128_3_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00208             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00209         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00210     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00211 
00212 
00213      
00214 
00215 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00216 \textcolor{keyword}{-- 32b word output}
00217 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00218 \textcolor{keyword}{--firts stage of mux}
00219 \textcolor{vhdlchar}{mux_stage0_1_0}  \textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word128_0} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{word128_0_valid}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{word128_1};
00220 \textcolor{vhdlchar}{mux_stage0_3_2}  \textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word128_2} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{word128_2_valid}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{word128_3};
00221 
00222 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00223 \textcolor{keyword}{-- Registers for MUX stage 0}
00224 \textcolor{keyword}{-- ----------------------------------------------------------------------------  }
00225   \textcolor{keywordflow}{process}(reset_n, clk)
00226 \textcolor{vhdlkeyword}{    begin}
00227       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00228             \textcolor{vhdlchar}{mux_stage0_1_0_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00229             \textcolor{vhdlchar}{mux_stage0_3_2_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00230          \textcolor{vhdlchar}{mux_stage1_3_0_sel}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00231       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00232             \textcolor{vhdlchar}{mux_stage0_1_0_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{mux_stage0_1_0};
00233             \textcolor{vhdlchar}{mux_stage0_3_2_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{mux_stage0_3_2};
00234          \textcolor{vhdlchar}{mux_stage1_3_0_sel} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{word128_0_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word128_1_valid}\textcolor{vhdlchar}{)};     
00235         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00236     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00237 
00238 
00239 
00240 \textcolor{keyword}{--second stage of mux}
00241 \textcolor{vhdlchar}{mux_stage1_3_0}  \textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{mux_stage0_1_0_reg} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{mux_stage1_3_0_sel}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{
      mux_stage0_3_2_reg};
00242 
00243 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00244 \textcolor{keyword}{-- Registers for MUX stage 1}
00245 \textcolor{keyword}{-- ----------------------------------------------------------------------------  }
00246   \textcolor{keywordflow}{process}(reset_n, clk)
00247 \textcolor{vhdlkeyword}{    begin}
00248       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00249             \textcolor{vhdlchar}{mux_stage1_3_0_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00250       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00251             \textcolor{vhdlchar}{mux_stage1_3_0_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{mux_stage1_3_0};
00252         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00253     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00254 
00255 
00256 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00257 \textcolor{keyword}{-- 32b word output valid signal}
00258 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00259   \textcolor{keywordflow}{process}(reset_n, clk)
00260 \textcolor{vhdlkeyword}{    begin}
00261       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00262             \textcolor{vhdlchar}{data_out_valid_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00263          \textcolor{vhdlchar}{data_out_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00264       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00265             \textcolor{vhdlchar}{data_out_valid_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word128_0_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word128_1_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{
      word128_2_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word128_3_valid};
00266          \textcolor{vhdlchar}{data_out_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data_out_valid_reg}; 
00267         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00268     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00269     
00270     \textcolor{vhdlchar}{data56_out}         \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{mux_stage1_3_0_reg};
00271     \textcolor{vhdlchar}{data_out_valid}   \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data_out_valid_pipe};
00272 
00273 
00274 
00275  
00276 
00277 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{arch};   
00278 
00279 
00280 
\end{DoxyCode}
