\subsection{bit\+\_\+unpack\+\_\+64\+\_\+tb.\+vhd}
\label{bit__unpack__64__tb_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/tx\+\_\+path\+\_\+top/bit\+\_\+unpack/sim/bit\+\_\+unpack\+\_\+64\+\_\+tb.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/tx\+\_\+path\+\_\+top/bit\+\_\+unpack/sim/bit\+\_\+unpack\+\_\+64\+\_\+tb.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00002 \textcolor{keyword}{-- FILE:    bit\_unpack\_64\_tb.vhd}
00003 \textcolor{keyword}{-- DESCRIPTION: }
00004 \textcolor{keyword}{-- DATE:    Feb 13, 2014}
00005 \textcolor{keyword}{-- AUTHOR(s):   Lime Microsystem}
00006 \textcolor{keyword}{-- REVISIONS:}
00007 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00008 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00009 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00010 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00011 
00012 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00013 \textcolor{keyword}{-- Entity declaration}
00014 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00015 \textcolor{keywordflow}{entity }bit_unpack_64_tb \textcolor{keywordflow}{is}
00016 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{bit\_unpack\_64\_tb};
00017 
00018 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00019 \textcolor{keyword}{-- Architecture}
00020 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00021 
00022 \textcolor{keywordflow}{architecture} tb\_behave \textcolor{keywordflow}{of} bit_unpack_64_tb is
00023    \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{clk0_period}   \textcolor{vhdlchar}{:} \textcolor{comment}{time} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10} \textcolor{vhdlchar}{ns};
00024    \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{clk1_period}   \textcolor{vhdlchar}{:} \textcolor{comment}{time} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10} \textcolor{vhdlchar}{ns}; 
00025 \textcolor{keyword}{   --signals}
00026     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{clk1}        \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00027     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{reset_n}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic}; 
00028    
00029 \textcolor{keyword}{   --dut0}
00030    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut0_data_in}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00031    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut0_data_in_valid}     \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00032    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut0_sample_width}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{:=}\textcolor{vhdllogic}{"10"};\textcolor{keyword}{ --"10"-12bit, "01"-14bit,
       "00"-16bit;}
00033    
00034    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut0_data_out}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00035    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut0_data_out_valid}    \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00036    
00037 \textcolor{keyword}{   --dut1}
00038    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut1_n}                 \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{:=}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"00"};
00039    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut1_pulse_out}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00040    
00041 \textcolor{keyword}{   --dut2}
00042    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut2_rdreq}             \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00043    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut2_q}                 \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00044    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut2_rdempty}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00045    
00046 \textcolor{keyword}{   --dut3}
00047    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut3_data_in_valid}     \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00048    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{dut3_data_out}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{127} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00049    
00050    
00051    
00052    
00053    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data_wrreq}             \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00054    
00055    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data12_0}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{11} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00056    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data12_1}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{11} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00057    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data12_2}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{11} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00058    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data12_3}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{11} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00059                   
00060    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data14_0}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{13} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00061    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data14_1}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{13} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00062    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data14_2}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{13} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00063    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data14_3}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{13} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00064                   
00065    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data16_0}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00066    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data16_1}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00067    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data16_2}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00068    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data16_3}               \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00069    
00070    \textcolor{keywordflow}{type} \textcolor{vhdlchar}{smpl_12b_array_type} \textcolor{keywordflow}{is} \textcolor{keywordflow}{array} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{to} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{7}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{of} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{11} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00071    \textcolor{keywordflow}{type} \textcolor{vhdlchar}{smpl_14b_array_type} \textcolor{keywordflow}{is} \textcolor{keywordflow}{array} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{to} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{7}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{of} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{13} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00072    \textcolor{keywordflow}{type} \textcolor{vhdlchar}{smpl_16b_array_type} \textcolor{keywordflow}{is} \textcolor{keywordflow}{array} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{to} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{7}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{of} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00073    
00074    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{smpl_12b_array}    \textcolor{vhdlchar}{:} \textcolor{vhdlchar}{smpl_12b_array_type};
00075    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{smpl_14b_array}    \textcolor{vhdlchar}{:} \textcolor{vhdlchar}{smpl_14b_array_type};
00076    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{smpl_16b_array}    \textcolor{vhdlchar}{:} \textcolor{vhdlchar}{smpl_16b_array_type};
00077    
00078    
00079 \textcolor{vhdlkeyword}{begin }
00080   
00081       clock0: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00082 \textcolor{vhdlkeyword}{    begin}
00083         \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk0_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00084         \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk0_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00085     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{clock0};
00086 
00087     clock: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00088 \textcolor{vhdlkeyword}{    begin}
00089         \textcolor{vhdlchar}{clk1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk1_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00090         \textcolor{vhdlchar}{clk1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk1_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00091     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{clock};
00092     
00093         res: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00094 \textcolor{vhdlkeyword}{    begin}
00095         \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{20} \textcolor{vhdlchar}{ns};
00096         \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait};
00097     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{res};
00098    
00099    
00100    
00101    
00102 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00104 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00105    DATA12\_CNT : \textcolor{keywordflow}{process}(reset_n, clk0)
00106 \textcolor{vhdlkeyword}{   begin}
00107       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00108          \textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00109          \textcolor{vhdlchar}{data12_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00110          \textcolor{vhdlchar}{data12_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00111          \textcolor{vhdlchar}{data12_3}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};  
00112       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00113          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{data_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}   
00114             \textcolor{vhdlchar}{data12_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4};
00115             \textcolor{vhdlchar}{data12_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{5};
00116             \textcolor{vhdlchar}{data12_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{6};
00117             \textcolor{vhdlchar}{data12_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7}; 
00118          \textcolor{keywordflow}{else} 
00119             \textcolor{vhdlchar}{data12_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_0};
00120             \textcolor{vhdlchar}{data12_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_1};
00121             \textcolor{vhdlchar}{data12_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_2};
00122             \textcolor{vhdlchar}{data12_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data12_3}; 
00123          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00124       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00125    \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00126    
00127 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00129 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00130    DATA14\_CNT : \textcolor{keywordflow}{process}(reset_n, clk0)
00131 \textcolor{vhdlkeyword}{   begin}
00132       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00133          \textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00134          \textcolor{vhdlchar}{data14_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00135          \textcolor{vhdlchar}{data14_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00136          \textcolor{vhdlchar}{data14_3}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};  
00137       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00138          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{data_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}   
00139             \textcolor{vhdlchar}{data14_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4};
00140             \textcolor{vhdlchar}{data14_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{5};
00141             \textcolor{vhdlchar}{data14_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{6};
00142             \textcolor{vhdlchar}{data14_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7}; 
00143          \textcolor{keywordflow}{else} 
00144             \textcolor{vhdlchar}{data14_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_0};
00145             \textcolor{vhdlchar}{data14_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_1};
00146             \textcolor{vhdlchar}{data14_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_2};
00147             \textcolor{vhdlchar}{data14_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data14_3}; 
00148          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00149       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00150    \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00151    
00152 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00154 \textcolor{keyword}{   ---------------------------------------------------------------------------------------------------}
00155    DATA16\_CNT : \textcolor{keywordflow}{process}(reset_n, clk0)
00156 \textcolor{vhdlkeyword}{   begin}
00157       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00158          \textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00159          \textcolor{vhdlchar}{data16_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00160          \textcolor{vhdlchar}{data16_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00161          \textcolor{vhdlchar}{data16_3}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};  
00162       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00163          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{data_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}   
00164             \textcolor{vhdlchar}{data16_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4};
00165             \textcolor{vhdlchar}{data16_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{5};
00166             \textcolor{vhdlchar}{data16_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{6};
00167             \textcolor{vhdlchar}{data16_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7}; 
00168          \textcolor{keywordflow}{else} 
00169             \textcolor{vhdlchar}{data16_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_0};
00170             \textcolor{vhdlchar}{data16_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_1};
00171             \textcolor{vhdlchar}{data16_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_2};
00172             \textcolor{vhdlchar}{data16_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data16_3}; 
00173          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00174       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00175    \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00176    
00177    
00178    \textcolor{vhdlchar}{dut0_data_in} \textcolor{vhdlchar}{<=}   \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{"0000000000000000"} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data12_3}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{
      data12_2}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data12_1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data12_0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{
      dut0_sample_width}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{"10"} \textcolor{keywordflow}{else} 
00179                      \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{"00000000"} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data14_3}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{
      data14_2}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data14_1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data14_0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{
      dut0_sample_width}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{"01"} \textcolor{keywordflow}{else} 
00180                      \textcolor{vhdlchar}{(}\textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data16_3}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data16_2}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{
      data16_1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{data16_0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)}; 
00181   
00182   \textcolor{vhdlchar}{dut0_data_in_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data_wrreq};
00183   
00184   bit\_pack\_dut0 : \textcolor{keywordflow}{entity} work.bit_pack 
00185 \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00186         clk             => clk0,
00187         reset_n         => reset_n,
00188         data_in         => dut0_data_in,
00189         data_in_valid   => dut0_data_in_valid,
00190         sample_width    => dut0_sample_width,
00191         data_out        => dut0_data_out,
00192         data_out_valid  => dut0_data_out_valid
00193 \textcolor{vhdlchar}{)};  
00194 
00195 pulse\_gen\_dut1 : \textcolor{keywordflow}{entity} work.pulse_gen
00196 \textcolor{keywordflow}{port} \textcolor{keywordflow}{map} (
00197          clk         => clk0,
00198          reset_n     => reset_n,
00199          n           => dut1_n, 
00200          pulse\_out   => dut1_pulse_out
00201                
00202 \textcolor{vhdlchar}{)};
00203 
00204 \textcolor{vhdlchar}{dut2_rdreq} \textcolor{vhdlchar}{<=} \textcolor{keywordflow}{not} \textcolor{vhdlchar}{dut2_rdempty};
00205 
00206 fifo\_inst\_dut2 : \textcolor{keywordflow}{entity} work.fifo_inst
00207   \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map}(
00208          dev_family     => \textcolor{keyword}{"Cyclone IV E"}  ,
00209          wrwidth         => \textcolor{vhdllogic}{64},
00210          wrusedw_witdth  => \textcolor{vhdllogic}{11},\textcolor{keyword}{ --12=2048 words }
00211          rdwidth         => \textcolor{vhdllogic}{64},
00212          rdusedw_width   => \textcolor{vhdllogic}{11},
00213          show_ahead      => \textcolor{keyword}{"OFF"}
00214   \textcolor{vhdlchar}{)} 
00215   \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00216 \textcolor{keyword}{      --input ports }
00217       reset_n       => reset_n,
00218       wrclk         => clk0,
00219       wrreq         => dut0_data_out_valid,
00220       data          => dut0_data_out,
00221       wrfull        => \textcolor{keywordflow}{open},
00222         wrempty       => \textcolor{keywordflow}{open},
00223       wrusedw       => \textcolor{keywordflow}{open},
00224       rdclk          => clk0,
00225       rdreq         => dut2_rdreq,
00226       q             => dut2_q,
00227       rdempty       => dut2_rdempty,
00228       rdusedw       => \textcolor{keywordflow}{open}          
00229         \textcolor{vhdlchar}{)};
00230         
00231         
00232         
00233 proc\_name : \textcolor{keywordflow}{process}(clk0, reset_n)
00234 \textcolor{vhdlkeyword}{begin}
00235    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00236       \textcolor{vhdlchar}{dut3_data_in_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00237    \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then} 
00238       \textcolor{vhdlchar}{dut3_data_in_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{dut2_rdreq};
00239    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00240 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00241         
00242                
00243   bit\_unpack\_dut3 : \textcolor{keywordflow}{entity} work.bit_unpack_64 
00244 \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00245         clk             => clk0,
00246         reset_n         => reset_n,
00247         data_in         => dut2_q,
00248         data_in_valid   => dut3_data_in_valid,
00249         sample_width    => dut0_sample_width,
00250         data_out        => dut3_data_out,
00251         data_out_valid  => \textcolor{keywordflow}{open}
00252 \textcolor{vhdlchar}{)};
00253 
00254 
00255 \textcolor{keyword}{--For comparing output results}
00256 \textcolor{keywordflow}{process}(dut3_data_out)
00257 \textcolor{vhdlkeyword}{begin }
00258    \textcolor{keywordflow}{for} \textcolor{vhdlchar}{i} \textcolor{keywordflow}{in} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{to} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{loop}
00259       \textcolor{vhdlchar}{smpl_12b_array}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{i}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{dut3_data_out}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{i}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{16+15} \textcolor{keywordflow}{downto} \textcolor{vhdlchar}{i}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{16+4}\textcolor{vhdlchar}{)};
00260    \textcolor{keywordflow}{end} \textcolor{keywordflow}{loop};
00261 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00262 
00263 \textcolor{keywordflow}{process}(dut3_data_out)
00264 \textcolor{vhdlkeyword}{begin }
00265    \textcolor{keywordflow}{for} \textcolor{vhdlchar}{i} \textcolor{keywordflow}{in} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{to} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{loop}
00266       \textcolor{vhdlchar}{smpl_14b_array}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{i}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{dut3_data_out}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{i}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{16+15} \textcolor{keywordflow}{downto} \textcolor{vhdlchar}{i}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{16+2}\textcolor{vhdlchar}{)};
00267    \textcolor{keywordflow}{end} \textcolor{keywordflow}{loop};
00268 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00269 
00270 \textcolor{keywordflow}{process}(dut3_data_out)
00271 \textcolor{vhdlkeyword}{begin }
00272    \textcolor{keywordflow}{for} \textcolor{vhdlchar}{i} \textcolor{keywordflow}{in} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{to} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{loop}
00273       \textcolor{vhdlchar}{smpl_16b_array}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{i}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{dut3_data_out}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{i}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{16+15} \textcolor{keywordflow}{downto} \textcolor{vhdlchar}{i}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{16}\textcolor{vhdlchar}{)};
00274    \textcolor{keywordflow}{end} \textcolor{keywordflow}{loop};
00275 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00276 
00277 
00278 
00279 \textcolor{vhdlchar}{data_wrreq}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{dut1_pulse_out};
00280 
00281     \textcolor{keywordflow}{end} \textcolor{vhdlchar}{tb\_behave};
00282   
00283   
00284 
00285 
00286   
\end{DoxyCode}
