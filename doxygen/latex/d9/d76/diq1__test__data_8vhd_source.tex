\subsection{diq1\+\_\+test\+\_\+data.\+vhd}
\label{diq1__test__data_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/tx\+\_\+path\+\_\+top/fifo2diq/sim/diq1\+\_\+test\+\_\+data.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/tx\+\_\+path\+\_\+top/fifo2diq/sim/diq1\+\_\+test\+\_\+data.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00002 \textcolor{keyword}{-- FILE:    diq1\_test\_data.vhd}
00003 \textcolor{keyword}{-- DESCRIPTION: describe}
00004 \textcolor{keyword}{-- DATE:    Feb 13, 2014}
00005 \textcolor{keyword}{-- AUTHOR(s):   Lime Microsystems}
00006 \textcolor{keyword}{-- REVISIONS:}
00007 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00008 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00009 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00010 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00011 
00012 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00013 \textcolor{keyword}{-- Entity declaration}
00014 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00015 \textcolor{keywordflow}{entity }diq1_test_data \textcolor{keywordflow}{is}
00016    \textcolor{keywordflow}{generic}\textcolor{vhdlchar}{(} 
00017       \textcolor{vhdlchar}{dev_family}    \textcolor{vhdlchar}{:} \textcolor{comment}{string} \textcolor{vhdlchar}{:=} \textcolor{keyword}{"Cyclone IV E"};
00018       \textcolor{vhdlchar}{iq_width}      \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{12}
00019    \textcolor{vhdlchar}{)};
00020    \textcolor{keywordflow}{port} \textcolor{vhdlchar}{(}
00021       \textcolor{vhdlchar}{clk}         \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00022       \textcolor{vhdlchar}{reset_n}     \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00023 \textcolor{keyword}{      --Mode settings}
00024       \textcolor{vhdlchar}{trxiqpulse}    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{ -- trxiqpulse on: 1; trxiqpulse off: 0}
00025         \textcolor{vhdlchar}{ddr_en}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{ -- DDR: 1; SDR: 0}
00026         \textcolor{vhdlchar}{mimo_en}     \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{ -- SISO: 1; MIMO: 0}
00027         \textcolor{vhdlchar}{ch_en}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};\textcolor{keyword}{ --"01" - Ch. A, "10" - Ch. B, "11" - Ch. A and
       Ch. B.  }
00028         \textcolor{vhdlchar}{fidm}            \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{ -- External Frame ID mode. Frame start at fsync = 0, when 0. Frame
       start at fsync = 1, when 1.}
00029 \textcolor{keyword}{      --fifo ports }
00030       \textcolor{vhdlchar}{fifo_wrfull} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00031       \textcolor{vhdlchar}{fifo_wrreq}  \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00032       \textcolor{vhdlchar}{fifo_q}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{4-1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}        
00033         \textcolor{vhdlchar}{)};
00034 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{diq1\_test\_data};
00035 
00036 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00037 \textcolor{keyword}{-- Architecture}
00038 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00039 \textcolor{keywordflow}{architecture} arch \textcolor{keywordflow}{of} diq1_test_data is
00040 \textcolor{keyword}{--declare signals,  components here}
00041 \textcolor{keywordflow}{type} \textcolor{vhdlchar}{nco_array_type} \textcolor{keywordflow}{is} \textcolor{keywordflow}{array} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{to} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{7}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{of} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00042 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{nco_mimo_I}   \textcolor{vhdlchar}{:} \textcolor{vhdlchar}{nco_array_type};
00043 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{nco_mimo_Q}   \textcolor{vhdlchar}{:} \textcolor{vhdlchar}{nco_array_type};  
00044 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{nco_siso_I}   \textcolor{vhdlchar}{:} \textcolor{vhdlchar}{nco_array_type};
00045 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{nco_siso_Q}   \textcolor{vhdlchar}{:} \textcolor{vhdlchar}{nco_array_type};
00046 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{nco_cnt}         \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00047 
00048 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{fifo_q_nco_mimo}   \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{4-1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}; 
00049 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{fifo_q_nco_siso}   \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{4-1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00050 
00051 
00052 
00053 \textcolor{vhdlkeyword}{begin}
00054 
00055 \textcolor{keyword}{-- nco\_array\_h<= (x"07ff",x"17ff",x"0000",x"1000",x"0800",x"1800",x"0000",x"1000");}
00056 \textcolor{keyword}{-- nco\_array\_l<= (x"0000",x"1000",x"07ff",x"17ff",x"0000",x"1000",x"0800",x"1800");}
00057 
00058 
00059 \textcolor{vhdlchar}{nco_mimo_I}\textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"7ff"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"7ff"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"800"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"800"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{)};
00060 \textcolor{vhdlchar}{nco_mimo_Q}\textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"7ff"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"7ff"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"800"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"800"}\textcolor{vhdlchar}{)};
00061 
00062 \textcolor{vhdlchar}{nco_siso_I}\textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"7ff"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"800"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"7ff"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"800"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{)};
00063 \textcolor{vhdlchar}{nco_siso_Q}\textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"7ff"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"800"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"7ff"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"000"}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"800"}\textcolor{vhdlchar}{)};
00064 
00065 
00066  \textcolor{keywordflow}{process}(reset_n, clk)
00067 \textcolor{vhdlkeyword}{    begin}
00068       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00069          \textcolor{vhdlchar}{nco_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};  
00070       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00071          \textcolor{vhdlchar}{nco_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{nco_cnt}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00072         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00073     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00074     
00075     
00076      \textcolor{keywordflow}{process}(reset_n, clk)
00077 \textcolor{vhdlkeyword}{    begin}
00078       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00079          \textcolor{vhdlchar}{fifo_q_nco_mimo}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00080          \textcolor{vhdlchar}{fifo_q_nco_siso}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};          
00081       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00082          \textcolor{vhdlchar}{fifo_q_nco_mimo} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{nco_mimo_I}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{to\_integer}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{nco_cnt}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{nco_mimo_Q}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{to\_integer}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{
      nco_cnt}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{nco_mimo_I}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{to\_integer}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{nco_cnt}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{nco_mimo_Q}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{to\_integer}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{nco_cnt}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)};
00083         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00084     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00085   
00086 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{arch};   
00087 
00088 
00089 
00090 
00091 
\end{DoxyCode}
