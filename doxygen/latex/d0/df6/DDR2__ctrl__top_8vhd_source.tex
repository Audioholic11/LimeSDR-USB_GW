\subsection{D\+D\+R2\+\_\+ctrl\+\_\+top.\+vhd}
\label{DDR2__ctrl__top_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/wfm\+\_\+ram\+\_\+buffer/\+D\+D\+R2\+\_\+ctrl\+\_\+top.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/wfm\+\_\+ram\+\_\+buffer/\+D\+D\+R2\+\_\+ctrl\+\_\+top.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00002 \textcolor{keyword}{-- FILE:    DDR2\_ctrl\_top.vhd}
00003 \textcolor{keyword}{-- DESCRIPTION: describe}
00004 \textcolor{keyword}{-- DATE:    June 13, 2016}
00005 \textcolor{keyword}{-- AUTHOR(s):   Lime Microsystems}
00006 \textcolor{keyword}{-- REVISIONS:}
00007 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00008 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00009 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00010 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00011 
00012 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00013 \textcolor{keyword}{-- Entity declaration}
00014 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00015 \textcolor{keywordflow}{entity }DDR2_ctrl_top \textcolor{keywordflow}{is}
00016         \textcolor{keywordflow}{generic}\textcolor{vhdlchar}{(}
00017             \textcolor{vhdlchar}{cntrl_rate}          \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1};\textcolor{keyword}{ --1 - full rate, 2 - half rate}
00018             \textcolor{vhdlchar}{cntrl_bus_size}      \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{16};
00019             \textcolor{vhdlchar}{addr_size}           \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{24};
00020             \textcolor{vhdlchar}{lcl_bus_size}        \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{63};
00021             \textcolor{vhdlchar}{lcl_burst_length}    \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00022             \textcolor{vhdlchar}{cmd_fifo_size}       \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{9};
00023             \textcolor{vhdlchar}{outfifo_size}        \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{10}\textcolor{keyword}{  --DDR2 outfifo buffer size}
00024         \textcolor{vhdlchar}{)};
00025         \textcolor{keywordflow}{port} \textcolor{vhdlchar}{(}
00026 
00027       \textcolor{vhdlchar}{pll_ref_clk}       \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00028       \textcolor{vhdlchar}{global_reset_n}    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00029         \textcolor{vhdlchar}{soft_reset_n}        \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00030 
00031         \textcolor{vhdlchar}{wcmd_clk}                \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00032         \textcolor{vhdlchar}{wcmd_reset_n}        \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in}  \textcolor{comment}{std\_logic};
00033         \textcolor{vhdlchar}{wcmd_rdy}                \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00034         \textcolor{vhdlchar}{wcmd_addr}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{addr_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00035         \textcolor{vhdlchar}{wcmd_wr}             \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00036         \textcolor{vhdlchar}{wcmd_brst_en}        \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{ --1- writes in burst, 0- single write}
00037         \textcolor{vhdlchar}{wcmd_data}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{cntrl_bus_size}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{cntrl_rate}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00038         \textcolor{vhdlchar}{rcmd_clk}                \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00039         \textcolor{vhdlchar}{rcmd_reset_n}        \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in}  \textcolor{comment}{std\_logic};
00040         \textcolor{vhdlchar}{rcmd_rdy}                \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00041         \textcolor{vhdlchar}{rcmd_addr}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{addr_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00042         \textcolor{vhdlchar}{rcmd_wr}             \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00043         \textcolor{vhdlchar}{rcmd_brst_en}        \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{ --1- reads in burst, 0- single read}
00044         \textcolor{vhdlchar}{outbuf_wrusedw}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{outfifo_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00045 
00046         local\_ready         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00047         local\_rdata         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(cntrl\_bus\_size*2*cntrl\_rate-1 \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{0});
00048         local\_rdata\_valid   : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00049         local\_init\_done : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00050 
00051         \textcolor{vhdlchar}{mem_odt}             \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00052         \textcolor{vhdlchar}{mem_cs_n}                \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00053         \textcolor{vhdlchar}{mem_cke}             \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00054         \textcolor{vhdlchar}{mem_addr}                \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{12} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00055         \textcolor{vhdlchar}{mem_ba}              \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00056         \textcolor{vhdlchar}{mem_ras_n}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00057         \textcolor{vhdlchar}{mem_cas_n}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00058         \textcolor{vhdlchar}{mem_we_n}                \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00059         \textcolor{vhdlchar}{mem_dm}              \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00060         \textcolor{vhdlchar}{phy_clk}             \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00061 \textcolor{keyword}{        --aux\_full\_rate\_clk : out std\_logic;}
00062 \textcolor{keyword}{        --aux\_half\_rate\_clk : out std\_logic;}
00063 \textcolor{keyword}{        --reset\_request\_n   : out std\_logic;}
00064         \textcolor{vhdlchar}{mem_clk}             \textcolor{vhdlchar}{:} \textcolor{keywordflow}{inout} \textcolor{comment}{std\_logic\_vector} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00065         \textcolor{vhdlchar}{mem_clk_n}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{inout} \textcolor{comment}{std\_logic\_vector} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00066         \textcolor{vhdlchar}{mem_dq}              \textcolor{vhdlchar}{:} \textcolor{keywordflow}{inout} \textcolor{comment}{std\_logic\_vector} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00067         \textcolor{vhdlchar}{mem_dqs}             \textcolor{vhdlchar}{:} \textcolor{keywordflow}{inout} \textcolor{comment}{std\_logic\_vector} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00068 \textcolor{vhdlkeyword}{        begin}\textcolor{vhdlchar}{\_test}              \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00069         \textcolor{vhdlchar}{insert_error}            \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00070         \textcolor{vhdlchar}{pnf_per_bit}         \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};   
00071         \textcolor{vhdlchar}{pnf_per_bit_persist}     \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00072         \textcolor{vhdlchar}{pass}                    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00073         \textcolor{vhdlchar}{fail}                    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic}; 
00074         \textcolor{vhdlchar}{test_complete}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic}
00075 
00076 \textcolor{keyword}{      --output ports }
00077         
00078         \textcolor{vhdlchar}{)};
00079 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{DDR2\_ctrl\_top};
00080 
00081 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00082 \textcolor{keyword}{-- Architecture}
00083 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00084 \textcolor{keywordflow}{architecture} arch \textcolor{keywordflow}{of} DDR2_ctrl_top  is
00085 \textcolor{keyword}{--declare signals,  components here}
00086 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{lcl_init_done}    \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00087 
00088 \textcolor{keyword}{--write command fifo signals}
00089 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wcmdfifo_wrfull}              \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00090 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wcmdfifo_wrusedw}             \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{cmd_fifo_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00091 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wcmdfifo_rdreq}               \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00092 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wcmdfifo_q}                       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{addr_size}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{+}\textcolor{vhdlchar}{
      cntrl_bus_size}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{cntrl_rate}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}; 
00093 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wcmdfifo_rdusedw}             \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{cmd_fifo_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00094 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wcmdfifo_data}                    \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{addr_size}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{+}\textcolor{vhdlchar}{
      cntrl_bus_size}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{cntrl_rate}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00095 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wcmdfifo_rdempty}             \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00096 \textcolor{keyword}{--read command fifo signals}
00097 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{rcmdfifo_wrfull}              \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00098 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{rcmdfifo_rdreq}               \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic}; 
00099 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{rcmdfifo_q}                       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{addr_size} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00100 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{rcmdfifo_rdusedw}             \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{cmd_fifo_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00101 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{rcmdfifo_rdempty}             \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00102 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{rcmdfifo_data}                \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{addr_size} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};  
00103 
00104 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr2_phy_clk}                     \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00105 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr2_local_init_done}     \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00106 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr2_local_ready}             \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00107 
00108 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{read_cnt}                     \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00109 
00110 \textcolor{keyword}{--ddr2 arbiter signals}
00111 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr2arb_local_addr}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{addr_size}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00112 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr2arb_local_write_req}  \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00113 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr2arb_local_read_req}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00114 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr2arb_local_burstbegin} \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00115 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr2arb_local_wdata}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{cntrl_bus_size}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{
      cntrl_rate}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00116 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr2arb_local_be}             \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{cntrl_rate}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00117 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr2arb_local_size}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}; 
00118 
00119 \textcolor{keyword}{--avalon MM bus signals}
00120 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{avl_ready}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00121 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{avl_addr}            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{24} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00122 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{avl_size}            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00123 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{avl_wdata}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00124 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{avl_rdata}\textcolor{vhdlchar}{,} \textcolor{vhdlchar}{avl_rdata_error}    \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00125 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{avl_write_req}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00126 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{avl_read_req}        \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00127 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{avl_rdata_valid}     \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00128 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{avl_be}              \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00129 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{avl_burstbegin}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic}; 
00130 
00131 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tst_ready}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00132 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tst_addr}            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{24} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00133 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tst_size}            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00134 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tst_wdata}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00135 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tst_rdata}\textcolor{vhdlchar}{,} \textcolor{vhdlchar}{tst_rdata_error}    \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00136 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tst_write_req}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00137 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tst_read_req}        \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00138 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tst_rdata_valid}     \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00139 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tst_be}              \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00140 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tst_burstbegin}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};   
00141 
00142 \textcolor{keywordflow}{component} fifo_inst \textcolor{keywordflow}{is}
00143   \textcolor{keywordflow}{generic}(dev_family         : \textcolor{comment}{string}  := \textcolor{keyword}{"Cyclone IV E"};
00144           wrwidth         : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{24};
00145           wrusedw_witdth  : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{12}; \textcolor{keyword}{--12=2048 words }
00146           rdwidth         : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{48};
00147           rdusedw_width   : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{11};
00148           show_ahead      : \textcolor{comment}{string}  := \textcolor{keyword}{"ON"}
00149   );  
00150   \textcolor{keywordflow}{port} (
00151 \textcolor{keyword}{      --input ports }
00152       reset_n       : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00153       wrclk         : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00154       wrreq         : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00155       data          : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(wrwidth\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00156       wrfull        : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00157         wrempty       : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00158       wrusedw       : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(wrusedw_witdth\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00159       rdclk          : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00160       rdreq         : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00161       q             : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(rdwidth\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00162       rdempty       : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00163       rdusedw       : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(rdusedw_width\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0})     
00164         );
00165 \textcolor{keywordflow}{end} \textcolor{keywordflow}{component}; 
00166 
00167 
00168 \textcolor{keywordflow}{component} DDR2_arb \textcolor{keywordflow}{is}
00169     \textcolor{keywordflow}{generic}(
00170         cntrl_rate          : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}; \textcolor{keyword}{--1 - full rate, 2 - half rate}
00171         cntrl_bus_size      : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{16};
00172         addr_size           : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{24};
00173         lcl_bus_size        : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{63};
00174         lcl_burst_length    : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00175         cmd_fifo_size       : \textcolor{comment}{integer} := \textcolor{vhdllogic}{}\textcolor{vhdllogic}{9};
00176         outfifo_size        : \textcolor{comment}{integer} :=\textcolor{vhdllogic}{}\textcolor{vhdllogic}{10}
00177         );
00178   \textcolor{keywordflow}{port} (
00179       clk                   : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00180       reset_n               : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00181 
00182         wcmd_fifo_wraddr    : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(addr_size \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00183         wcmd_fifo_wrdata    : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(cntrl_bus_size*\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}*cntrl_rate\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00184         wcmd_fifo_rdusedw   : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(cmd_fifo_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00185         wcmd_fifo_rdempty   : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00186         wcmd_fifo_rdreq : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00187         rcmd_fifo_rdaddr    : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(addr_size \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00188         rcmd_fifo_rdusedw   : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(cmd_fifo_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00189         rcmd_fifo_rdempty   : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00190         rcmd_fifo_rdreq : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00191         outbuf_wrusedw      : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}(outfifo_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00192         
00193         local_ready         : \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00194         local_addr          : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(addr_size\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00195         local_write_req : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00196         local_read_req      : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00197         local_burstbegin    : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00198         local_wdata         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(cntrl_bus_size*\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}*cntrl_rate\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00199         local_be                : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4}*cntrl_rate\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00200         local_size          : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0})  
00201         );
00202 \textcolor{keywordflow}{end} \textcolor{keywordflow}{component};
00203 
00204 
00205 
00206 \textcolor{keywordflow}{component} ddr2 \textcolor{keywordflow}{IS}
00207     \textcolor{keywordflow}{PORT} (
00208         local_address       : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{24} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00209         local_write_req : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00210         local_read_req      : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00211         local_burstbegin    : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00212         local_wdata         : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00213         local_be                : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00214         local_size          : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00215         global_reset_n      : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00216         pll_ref_clk         : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00217         soft_reset_n        : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00218         local_ready         : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00219         local_rdata         : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00220         local_rdata_valid   : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00221         local_refresh_ack   : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00222         local_init_done : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00223         reset_phy_clk_n : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00224         mem_odt             : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00225         mem_cs_n                : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00226         mem_cke             : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00227         mem_addr                : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{12} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00228         mem_ba              : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00229         mem_ras_n           : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00230         mem_cas_n           : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00231         mem_we_n                : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00232         mem_dm              : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00233         phy_clk             : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00234         aux_full_rate_clk   : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00235         aux_half_rate_clk   : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00236         reset_request_n : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00237         mem_clk             : \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00238         mem_clk_n           : \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00239         mem_dq              : \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00240         mem_dqs             : \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0})
00241     );
00242 \textcolor{keywordflow}{END} \textcolor{keywordflow}{component};
00243 
00244 \textcolor{keywordflow}{component} ddr2\_traffic\_gen \textcolor{keywordflow}{is}
00245     \textcolor{keywordflow}{port} (
00246         avl\_ready           : \textcolor{keywordflow}{in}  \textcolor{comment}{std\_logic}                     := '\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}';             \textcolor{keyword}{--      
       avl.waitrequest\_n}
00247         avl\_addr            : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(\textcolor{vhdllogic}{}\textcolor{vhdllogic}{24} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});                    \textcolor{keyword}{--          .address}
00248         avl\_size            : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});                     \textcolor{keyword}{--          .burstcount}
00249         avl\_wdata           : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});                    \textcolor{keyword}{--          .writedata}
00250         avl\_rdata           : \textcolor{keywordflow}{in}  \textcolor{comment}{std\_logic\_vector}(\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}) := (\textcolor{keywordflow}{others} => '\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}'); \textcolor{keyword}{--          .readdata}
00251         avl\_write\_req       : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};                                        \textcolor{keyword}{--          .write}
00252         avl\_read\_req        : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};                                        \textcolor{keyword}{--          .read}
00253         avl\_rdata\_valid     : \textcolor{keywordflow}{in}  \textcolor{comment}{std\_logic}                     := '\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}';             \textcolor{keyword}{--         
       .readdatavalid}
00254         avl\_be              : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});                     \textcolor{keyword}{--          .byteenable}
00255         avl\_burstbegin      : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};                                        \textcolor{keyword}{--         
       .beginbursttransfer}
00256         clk                 : \textcolor{keywordflow}{in}  \textcolor{comment}{std\_logic}                     := '\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}';             \textcolor{keyword}{-- avl\_clock.clk}
00257         reset\_n             : \textcolor{keywordflow}{in}  \textcolor{comment}{std\_logic}                     := '\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}';             \textcolor{keyword}{-- avl\_reset.reset\_n}
00258         pnf\_per\_bit         : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});                    \textcolor{keyword}{--      
       pnf.pnf\_per\_bit}
00259         pnf\_per\_bit\_persist : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}(\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});                    \textcolor{keyword}{--         
       .pnf\_per\_bit\_persist}
00260         pass                : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};                                        \textcolor{keyword}{--    status.pass}
00261         fail                : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};                                        \textcolor{keyword}{--          .fail}
00262         test\_complete       : \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic}\textcolor{keyword}{                                         --         
       .test\_complete}
00263     );
00264 \textcolor{keywordflow}{end} \textcolor{keywordflow}{component};
00265 
00266   
00267 \textcolor{vhdlkeyword}{begin}
00268 
00269 
00270 \textcolor{vhdlchar}{wcmdfifo_data}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{wcmd_brst_en} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{wcmd_addr} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{wcmd_data}\textcolor{vhdlchar}{)};
00271 \textcolor{keyword}{-- ---------------------------------------------------------------------------}
00272 \textcolor{keyword}{-- Command fifo instances}
00273 \textcolor{keyword}{-- ---------------------------------------------------------------------------}
00274 \textcolor{keyword}{--writecommand fifo}
00275 wcmdfifo    : fifo_inst 
00276 \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map} (
00277             dev_family          => \textcolor{keyword}{"Cyclone IV E"}  ,
00278             wrwidth             => \textcolor{vhdlchar}{(}addr\_size+1\textcolor{vhdlchar}{)}+cntrl\_bus\_size*2*cntrl\_rate,
00279             wrusedw_witdth      => cmd_fifo_size,\textcolor{keyword}{ --9=256 words }
00280             rdwidth             => \textcolor{vhdlchar}{(}addr\_size+1\textcolor{vhdlchar}{)}+cntrl\_bus\_size*2*cntrl\_rate,
00281             rdusedw_width       => cmd_fifo_size,
00282             show_ahead          => \textcolor{keyword}{"ON"}
00283 \textcolor{vhdlchar}{)}
00284 \textcolor{keywordflow}{port} \textcolor{keywordflow}{map} (
00285       reset_n       => wcmd_reset_n, 
00286       wrclk         => wcmd_clk, 
00287       wrreq         => wcmd_wr, 
00288       data          => wcmdfifo_data, 
00289       wrfull        => wcmdfifo_wrfull, 
00290         wrempty       => \textcolor{keywordflow}{open}, 
00291       wrusedw       => wcmdfifo_wrusedw, 
00292       rdclk          => ddr2_phy_clk, 
00293       rdreq         => wcmdfifo_rdreq, 
00294       q             => wcmdfifo_q, 
00295       rdempty       => wcmdfifo_rdempty, 
00296       rdusedw       => wcmdfifo_rdusedw   
00297 \textcolor{vhdlchar}{)};
00298 
00299 \textcolor{keyword}{--read command fifo}
00300 rcmdfifo    : fifo_inst 
00301 \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map} (
00302             dev_family          => \textcolor{keyword}{"Cyclone IV E"}  ,
00303             wrwidth             => \textcolor{vhdlchar}{(}addr\_size+1\textcolor{vhdlchar}{)},
00304             wrusedw_witdth      => cmd_fifo_size,\textcolor{keyword}{ --9=256 words }
00305             rdwidth             => \textcolor{vhdlchar}{(}addr\_size+1\textcolor{vhdlchar}{)},
00306             rdusedw_width       => cmd_fifo_size,
00307             show_ahead          => \textcolor{keyword}{"ON"}
00308 \textcolor{vhdlchar}{)}
00309 \textcolor{keywordflow}{port} \textcolor{keywordflow}{map} (
00310       reset_n       => rcmd_reset_n, 
00311       wrclk         => rcmd_clk, 
00312       wrreq         => rcmd_wr, 
00313       data          => rcmdfifo_data, 
00314       wrfull        => rcmdfifo_wrfull, 
00315         wrempty       => \textcolor{keywordflow}{open}, 
00316       wrusedw       => \textcolor{keywordflow}{open}, 
00317       rdclk          => ddr2_phy_clk, 
00318       rdreq         => rcmdfifo_rdreq, 
00319       q             => rcmdfifo_q, 
00320       rdempty       => rcmdfifo_rdempty, 
00321       rdusedw       => rcmdfifo_rdusedw   
00322 \textcolor{vhdlchar}{)};
00323 
00324 \textcolor{keyword}{--wcmd\_rdy      <= not wcmdfifo\_wrfull;}
00325 
00326 \textcolor{vhdlchar}{wcmd_rdy}        \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{when} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{wcmdfifo_wrusedw}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{<}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{252} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00327 
00328 \textcolor{vhdlchar}{rcmd_rdy}        \textcolor{vhdlchar}{<=} \textcolor{keywordflow}{not} \textcolor{vhdlchar}{rcmdfifo_wrfull};
00329 \textcolor{vhdlchar}{rcmdfifo_data}   \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{rcmd_brst_en} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{rcmd_addr};
00330 
00331 \textcolor{keyword}{-- ---------------------------------------------------------------------------}
00332 \textcolor{keyword}{-- DDR2 arbitrator instance}
00333 \textcolor{keyword}{-- ---------------------------------------------------------------------------}
00334 DDR2\_arb\_inst :  DDR2_arb
00335     \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map}(
00336         cntrl_rate          => cntrl_rate,\textcolor{keyword}{ --1 - full rate, 2 - half rate}
00337         cntrl_bus_size      => cntrl_bus_size,
00338         addr_size           => addr_size,
00339         lcl_bus_size        => lcl_bus_size,
00340         lcl_burst_length    => lcl_burst_length,
00341         cmd_fifo_size       => cmd_fifo_size,
00342         outfifo_size        => outfifo_size
00343         \textcolor{vhdlchar}{)}
00344   \textcolor{keywordflow}{port} \textcolor{keywordflow}{map} (
00345       clk                   => ddr2_phy_clk,
00346       reset_n               => ddr2_local_init_done,
00347 
00348         wcmd_fifo_wraddr    => wcmdfifo_q\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{(}addr\_size+1\textcolor{vhdlchar}{)}+cntrl\_bus\_size*2*cntrl\_rate-\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} 
      cntrl\_bus\_size*2*cntrl\_rate\textcolor{vhdlchar}{)},
00349         wcmd_fifo_wrdata    => wcmdfifo_q\textcolor{vhdlchar}{(}cntrl\_bus\_size*2*cntrl\_rate-\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)},
00350         wcmd_fifo_rdusedw   => wcmdfifo_rdusedw,
00351         wcmd_fifo_rdempty   => wcmdfifo_rdempty,
00352         wcmd_fifo_rdreq => wcmdfifo_rdreq,
00353         rcmd_fifo_rdaddr    => rcmdfifo_q ,
00354         rcmd_fifo_rdusedw   => rcmdfifo_rdusedw,
00355         rcmd_fifo_rdempty   => rcmdfifo_rdempty,
00356         rcmd_fifo_rdreq => rcmdfifo_rdreq,
00357         outbuf_wrusedw      => outbuf_wrusedw, 
00358 
00359         local_ready         => ddr2_local_ready,
00360         local_addr          => ddr2arb_local_addr,
00361         local_write_req => ddr2arb_local_write_req,
00362         local_read_req      => ddr2arb_local_read_req,
00363         local_burstbegin    => ddr2arb_local_burstbegin,
00364         local_wdata         => ddr2arb_local_wdata,
00365         local_be                => ddr2arb_local_be,
00366         local_size          => ddr2arb_local_size
00367         \textcolor{vhdlchar}{)};
00368 
00369 \textcolor{keyword}{-- ---------------------------------------------------------------------------}
00370 \textcolor{keyword}{-- DDR2 controller instance}
00371 \textcolor{keyword}{-- ---------------------------------------------------------------------------}
00372 \textcolor{keyword}{--ddr2\_local\_ready<=not std\_logic(read\_cnt(2));}
00373 \textcolor{keyword}{--ddr2\_local\_init\_done<=global\_reset\_n;}
00374 \textcolor{keyword}{--ddr2\_phy\_clk<=pll\_ref\_clk;}
00375 \textcolor{keyword}{--}
00376 \textcolor{keyword}{--process(global\_reset\_n, ddr2\_phy\_clk)}
00377 \textcolor{keyword}{--    begin}
00378 \textcolor{keyword}{--      if global\_reset\_n='0' then}
00379 \textcolor{keyword}{--        read\_cnt<=(others=>'0'); }
00380 \textcolor{keyword}{--      elsif (ddr2\_phy\_clk'event and ddr2\_phy\_clk = '1') then}
00381 \textcolor{keyword}{--              read\_cnt<=read\_cnt+1;}
00382 \textcolor{keyword}{--      end if;}
00383 \textcolor{keyword}{--    end process;}
00384 
00385 
00386 traffic_gen_inst : ddr2\_traffic\_gen
00387     \textcolor{keywordflow}{port} \textcolor{keywordflow}{map} (
00388         avl\_ready               => ddr2_local_ready,
00389         avl\_addr                    => tst_addr,
00390         avl\_size                    => tst_size,
00391         avl\_wdata               => tst_wdata,
00392         avl\_rdata               => tst_rdata,
00393         avl\_write\_req           => tst_write_req,
00394         avl\_read\_req            => tst_read_req,
00395         avl\_rdata\_valid     => tst_rdata_valid,
00396         avl\_be                  => tst_be,
00397         avl\_burstbegin          => tst_burstbegin,
00398         clk                     => ddr2_phy_clk,
00399         reset\_n                 => begin_test,\textcolor{keyword}{ --ddr2\_local\_init\_done,}
00400         pnf\_per\_bit             => pnf_per_bit,
00401         pnf\_per\_bit\_persist => pnf_per_bit_persist,
00402         pass                        => pass,
00403         fail                        => fail,
00404         test\_complete           => test_complete 
00405     \textcolor{vhdlchar}{)};  
00406 
00407 ddr2_inst : ddr2
00408     \textcolor{keywordflow}{PORT} \textcolor{keywordflow}{map} (
00409         local_address       => avl_addr, 
00410         local_write_req => avl_write_req, 
00411         local_read_req      => avl_read_req, 
00412         local_burstbegin    => avl_burstbegin, 
00413         local_wdata         => avl_wdata, 
00414         local_be                => avl_be, 
00415         local_size          => avl_size, 
00416         global_reset_n      => global_reset_n, 
00417         pll_ref_clk         => pll_ref_clk, 
00418         soft_reset_n        => soft_reset_n, 
00419         local_ready         => ddr2_local_ready, 
00420         local_rdata         => avl_rdata, 
00421         local_rdata_valid   => avl_rdata_valid, 
00422         local_refresh_ack   => \textcolor{keywordflow}{open}, 
00423         local_init_done => ddr2_local_init_done, 
00424         reset_phy_clk_n => \textcolor{keywordflow}{open}, 
00425         mem_odt             => mem_odt, 
00426         mem_cs_n                => mem_cs_n, 
00427         mem_cke             => mem_cke, 
00428         mem_addr                => mem_addr, 
00429         mem_ba              => mem_ba, 
00430         mem_ras_n           => mem_ras_n, 
00431         mem_cas_n           => mem_cas_n, 
00432         mem_we_n                => mem_we_n, 
00433         mem_dm              => mem_dm, 
00434         phy_clk             => ddr2_phy_clk, 
00435         aux_full_rate_clk   => \textcolor{keywordflow}{open}, 
00436         aux_half_rate_clk   => \textcolor{keywordflow}{open}, 
00437         reset_request_n => \textcolor{keywordflow}{open}, 
00438         mem_clk             => mem_clk, 
00439         mem_clk_n           => mem_clk_n, 
00440         mem_dq              => mem_dq, 
00441         mem_dqs             => mem_dqs 
00442     \textcolor{vhdlchar}{)};
00443 
00444 \textcolor{vhdlchar}{avl_addr}        \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{tst_addr}         \textcolor{keywordflow}{when} \textcolor{vhdlchar}{begin_test}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{ddr2arb_local_addr};
00445 \textcolor{vhdlchar}{avl_write_req}   \textcolor{vhdlchar}{<=}  \textcolor{vhdlchar}{tst_write_req}   \textcolor{keywordflow}{when} \textcolor{vhdlchar}{begin_test}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{
      ddr2arb_local_write_req};
00446 \textcolor{vhdlchar}{avl_read_req}    \textcolor{vhdlchar}{<=}  \textcolor{vhdlchar}{tst_read_req}    \textcolor{keywordflow}{when} \textcolor{vhdlchar}{begin_test}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{
      ddr2arb_local_read_req};
00447 \textcolor{vhdlchar}{avl_burstbegin} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{tst_burstbegin} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{begin_test}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{
      ddr2arb_local_burstbegin};
00448 \textcolor{vhdlchar}{avl_wdata}       \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{tst_wdata}        \textcolor{keywordflow}{when} \textcolor{vhdlchar}{begin_test}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{ddr2arb_local_wdata};
00449 \textcolor{vhdlchar}{avl_be}          \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{tst_be}           \textcolor{keywordflow}{when} \textcolor{vhdlchar}{begin_test}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{ddr2arb_local_be};
00450 \textcolor{vhdlchar}{avl_size}            \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{tst_size}         \textcolor{keywordflow}{when} \textcolor{vhdlchar}{begin_test}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{
      ddr2arb_local_size};
00451 
00452 local\_rdata             <= avl\_rdata;
00453 local\_rdata\_valid   <= avl\_rdata\_valid;
00454 
00455 \textcolor{vhdlchar}{tst_rdata}           \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{avl_rdata}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{insert_error}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{
      avl_rdata};
00456 \textcolor{vhdlchar}{tst_rdata_valid}     \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{avl_rdata_valid} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{begin_test}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00457 
00458 
00459 \textcolor{vhdlchar}{phy_clk}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{ddr2_phy_clk};
00460 local\_init\_done<=ddr2\_local\_init\_done;
00461 
00462 
00463 
00464 
00465   
00466 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{arch};   
00467 
00468 
00469 
00470 
\end{DoxyCode}
