\subsection{ddr2\+\_\+example\+\_\+top.\+vhd}
\label{ddr2__example__top_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/ip/ddr2/ddr2\+\_\+example\+\_\+top.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/ip/ddr2/ddr2\+\_\+example\+\_\+top.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{--Legal Notice: (C)2016 Altera Corporation. All rights reserved.  Your}
00002 \textcolor{keyword}{--use of Altera Corporation's design tools, logic functions and other}
00003 \textcolor{keyword}{--software and tools, and its AMPP partner logic functions, and any}
00004 \textcolor{keyword}{--output files any of the foregoing (including device programming or}
00005 \textcolor{keyword}{--simulation files), and any associated documentation or information are}
00006 \textcolor{keyword}{--expressly subject to the terms and conditions of the Altera Program}
00007 \textcolor{keyword}{--License Subscription Agreement or other applicable license agreement,}
00008 \textcolor{keyword}{--including, without limitation, that your use is for the sole purpose}
00009 \textcolor{keyword}{--of programming logic devices manufactured by Altera and sold by Altera}
00010 \textcolor{keyword}{--or its authorized distributors.  Please refer to the applicable}
00011 \textcolor{keyword}{--agreement for further details.}
00012 
00013 
00014 \textcolor{keyword}{-- turn off superfluous VHDL processor warnings }
00015 \textcolor{keyword}{-- altera message\_level Level1 }
00016 \textcolor{keyword}{-- altera message\_off 10034 10035 10036 10037 10230 10240 10030 }
00017 
00018 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{altera};
00019 \textcolor{vhdlkeyword}{use }altera.altera\_europa\_support\_lib.\textcolor{keywordflow}{all};
00020 
00021 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{altera\_mf};
00022 \textcolor{vhdlkeyword}{use }\textcolor{keywordflow}{altera\_mf.all};
00023 
00024 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00025 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00026 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_arith.\textcolor{keywordflow}{all};
00027 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_unsigned.\textcolor{keywordflow}{all};
00028 
00029 \textcolor{keyword}{-- megafunction wizard: %DDR / DDR2 SDRAM High Performance Controller v15.1%}
00030 \textcolor{keyword}{--GENERATION: XML}
00031 \textcolor{keyword}{--Generated by DDR / DDR2 SDRAM High Performance Controller 15.1}
00032 \textcolor{keyword}{--IPFS\_FILES:}
00033 \textcolor{keyword}{--RELATED\_FILES:}
00034 \textcolor{keyword}{--<< MEGAWIZARD PARSE FILE DDR15.1}
00035 \textcolor{keyword}{--.}
00036 \textcolor{keyword}{--<< START MEGAWIZARD INSERT MODULE}
00037 
00038 \textcolor{keywordflow}{entity }ddr2_example_top \textcolor{keywordflow}{is} 
00039         \textcolor{keywordflow}{port} \textcolor{vhdlchar}{(}
00040 \textcolor{keyword}{              -- inputs:}
00041                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{clock_source} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00042                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{global_reset_n} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00043 
00044 \textcolor{keyword}{              -- outputs:}
00045                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_addr} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{12} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00046                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_ba} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00047                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_cas_n} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00048                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_cke} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00049                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_clk} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00050                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_clk_n} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00051                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_cs_n} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00052                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_dm} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00053                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_dq} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00054                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_dqs} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00055                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_odt} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00056                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_ras_n} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00057                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_we_n} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00058                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{pnf} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00059                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{pnf_per_byte} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00060                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{test_complete} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00061                  \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{test_status} \textcolor{vhdlchar}{:} \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}
00062               \textcolor{vhdlchar}{)};
00063 \textcolor{keywordflow}{end} \textcolor{keywordflow}{entity} \textcolor{vhdlchar}{ddr2\_example\_top};
00064 
00065 
00066 \textcolor{keywordflow}{architecture} europa \textcolor{keywordflow}{of} ddr2_example_top is
00067   \textcolor{keywordflow}{component} ddr2 \textcolor{keywordflow}{is}
00068 \textcolor{keywordflow}{PORT} (
00069     \textcolor{keywordflow}{signal} mem_cke : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00070         \textcolor{keywordflow}{signal} mem_addr : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{12} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00071         \textcolor{keywordflow}{signal} mem_dm : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00072         \textcolor{keywordflow}{signal} aux_full_rate_clk : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00073         \textcolor{keywordflow}{signal} local_init_done : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00074         \textcolor{keywordflow}{signal} mem_dq : \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00075         \textcolor{keywordflow}{signal} mem_ras_n : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00076         \textcolor{keywordflow}{signal} mem_cs_n : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00077         \textcolor{keywordflow}{signal} phy_clk : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00078         \textcolor{keywordflow}{signal} mem_ba : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00079         \textcolor{keywordflow}{signal} aux_half_rate_clk : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00080         \textcolor{keywordflow}{signal} local_rdata : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00081         \textcolor{keywordflow}{signal} local_rdata_valid : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00082         \textcolor{keywordflow}{signal} mem_we_n : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00083         \textcolor{keywordflow}{signal} reset_phy_clk_n : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00084         \textcolor{keywordflow}{signal} local_ready : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00085         \textcolor{keywordflow}{signal} mem_odt : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00086         \textcolor{keywordflow}{signal} mem_cas_n : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00087         \textcolor{keywordflow}{signal} mem_clk : \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00088         \textcolor{keywordflow}{signal} local_refresh_ack : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00089         \textcolor{keywordflow}{signal} reset_request_n : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00090         \textcolor{keywordflow}{signal} mem_dqs : \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00091         \textcolor{keywordflow}{signal} mem_clk_n : \textcolor{keywordflow}{INOUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00092         \textcolor{keywordflow}{signal} local_size : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00093         \textcolor{keywordflow}{signal} local_wdata : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00094         \textcolor{keywordflow}{signal} soft_reset_n : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00095         \textcolor{keywordflow}{signal} global_reset_n : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00096         \textcolor{keywordflow}{signal} local_burstbegin : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00097         \textcolor{keywordflow}{signal} local_write_req : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00098         \textcolor{keywordflow}{signal} local_address : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{24} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00099         \textcolor{keywordflow}{signal} pll_ref_clk : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00100         \textcolor{keywordflow}{signal} local_be : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00101         \textcolor{keywordflow}{signal} local_read_req : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC}
00102       );
00103   \textcolor{keywordflow}{end} \textcolor{keywordflow}{component} \textcolor{vhdlchar}{ddr2};
00104   \textcolor{keywordflow}{component} ddr2_example_driver \textcolor{keywordflow}{is}
00105 \textcolor{keywordflow}{PORT} (
00106     \textcolor{keywordflow}{signal} local_size : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00107         \textcolor{keywordflow}{signal} local_cs_addr : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00108         \textcolor{keywordflow}{signal} local_wdata : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00109         \textcolor{keywordflow}{signal} test_status : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00110         \textcolor{keywordflow}{signal} local_col_addr : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{9} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00111         \textcolor{keywordflow}{signal} local_row_addr : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{12} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00112         \textcolor{keywordflow}{signal} pnf_persist : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00113         \textcolor{keywordflow}{signal} local_bank_addr : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00114         \textcolor{keywordflow}{signal} local_burstbegin : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00115         \textcolor{keywordflow}{signal} local_be : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00116         \textcolor{keywordflow}{signal} local_read_req : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00117         \textcolor{keywordflow}{signal} local_write_req : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00118         \textcolor{keywordflow}{signal} test_complete : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC};
00119         \textcolor{keywordflow}{signal} pnf_per_byte : \textcolor{keywordflow}{OUT} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00120         \textcolor{keywordflow}{signal} local_rdata_valid : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00121         \textcolor{keywordflow}{signal} local_rdata : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC\_VECTOR} (\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0});
00122         \textcolor{keywordflow}{signal} reset_n : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00123         \textcolor{keywordflow}{signal} local_ready : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC};
00124         \textcolor{keywordflow}{signal} clk : \textcolor{keywordflow}{IN} \textcolor{comment}{STD\_LOGIC}
00125       );
00126   \textcolor{keywordflow}{end} \textcolor{keywordflow}{component} \textcolor{vhdlchar}{ddr2_example_driver};
00127                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{cs_n} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00128                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_mem_addr} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{12} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00129                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_mem_ba} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00130                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_mem_cas_n} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00131                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_mem_cke} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00132                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_mem_dm} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00133                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_mem_odt} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00134                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_mem_ras_n} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00135                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_mem_we_n} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00136                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_pnf} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00137                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_pnf_per_byte} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00138                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_test_complete} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00139                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{internal_test_status} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00140                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{local_burstbegin_sig} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00141                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_aux_full_rate_clk} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00142                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_aux_half_rate_clk} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00143                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_local_addr} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{24} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00144                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_local_be} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00145                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_local_col_addr} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{9} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00146                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_local_cs_addr} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00147                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_local_rdata} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00148                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_local_rdata_valid} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00149                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_local_read_req} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00150                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_local_ready} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00151                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_local_size} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00152                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_local_wdata} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC\_VECTOR} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00153                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mem_local_write_req} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00154                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{phy_clk} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00155                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{reset_phy_clk_n} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00156                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tie_high} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00157                 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{tie_low} \textcolor{vhdlchar}{:}  \textcolor{comment}{STD\_LOGIC};
00158 
00159 \textcolor{vhdlkeyword}{begin}
00160 
00161 \textcolor{keyword}{  --}
00162  
00163 \textcolor{keyword}{  --}
00164  
00165   \textcolor{vhdlchar}{mem_cs_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{cs_n};
00166 \textcolor{keyword}{  --<< END MEGAWIZARD INSERT MODULE}
00167 
00168   \textcolor{vhdlchar}{tie_high} \textcolor{vhdlchar}{<=} \textcolor{comment}{std\_logic}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00169   \textcolor{vhdlchar}{tie_low} \textcolor{vhdlchar}{<=} \textcolor{comment}{std\_logic}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00170 \textcolor{keyword}{  --<< START MEGAWIZARD INSERT WRAPPER\_NAME}
00171   ddr2\_inst : ddr2
00172     \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00173             aux_full_rate_clk => mem_aux_full_rate_clk,
00174             aux_half_rate_clk => mem_aux_half_rate_clk,
00175             global_reset_n => global_reset_n,
00176             local_address => mem_local_addr,
00177             local_be => mem_local_be,
00178             local_burstbegin => local_burstbegin_sig,
00179             local_init_done => \textcolor{keywordflow}{open},
00180             local_rdata => mem_local_rdata,
00181             local_rdata_valid => mem_local_rdata_valid,
00182             local_read_req => mem_local_read_req,
00183             local_ready => mem_local_ready,
00184             local_refresh_ack => \textcolor{keywordflow}{open},
00185             local_size => mem_local_size,
00186             local_wdata => mem_local_wdata,
00187             local_write_req => mem_local_write_req,
00188             mem_addr => internal_mem_addr\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{12} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)},
00189             mem_ba => internal_mem_ba,
00190             mem_cas_n => internal_mem_cas_n,
00191             mem_cke\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} => internal_mem_cke\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)},
00192             mem_clk\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} => mem_clk\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)},
00193             mem_clk_n\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} => mem_clk_n\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)},
00194             mem_cs_n\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} => cs_n\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)},
00195             mem_dm => internal_mem_dm\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)},
00196             mem_dq => mem_dq,
00197             mem_dqs => mem_dqs\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)},
00198             mem_odt\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} => internal_mem_odt\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)},
00199             mem_ras_n => internal_mem_ras_n,
00200             mem_we_n => internal_mem_we_n,
00201             phy_clk => phy_clk,
00202             pll_ref_clk => clock_source,
00203             reset_phy_clk_n => reset_phy_clk_n,
00204             reset_request_n => \textcolor{keywordflow}{open},
00205             soft_reset_n => tie_high
00206     \textcolor{vhdlchar}{)};
00207 
00208 \textcolor{keyword}{  --<< END MEGAWIZARD INSERT WRAPPER\_NAME}
00209 
00210 \textcolor{keyword}{  --<< START MEGAWIZARD INSERT CS\_ADDR\_MAP}
00211 \textcolor{keyword}{  --connect up the column address bits, dropping 1 bits from example driver output because of 2:1 data rate}
00212   \textcolor{vhdlchar}{mem_local_addr}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{8} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{mem_local_col_addr}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{9} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)};
00213 \textcolor{keyword}{  --<< END MEGAWIZARD INSERT CS\_ADDR\_MAP}
00214 
00215 \textcolor{keyword}{  --<< START MEGAWIZARD INSERT EXAMPLE\_DRIVER}
00216 \textcolor{keyword}{  --Self-test, synthesisable code to exercise the DDR SDRAM Controller}
00217   driver : ddr2_example_driver
00218     \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00219             clk => phy_clk,
00220             local_bank_addr => mem_local_addr\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{24} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{22}\textcolor{vhdlchar}{)},
00221             local_be => mem_local_be,
00222             local_burstbegin => local_burstbegin_sig,
00223             local_col_addr => mem_local_col_addr,
00224             local_cs_addr => mem_local_cs_addr,
00225             local_rdata => mem_local_rdata,
00226             local_rdata_valid => mem_local_rdata_valid,
00227             local_read_req => mem_local_read_req,
00228             local_ready => mem_local_ready,
00229             local_row_addr => mem_local_addr\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{21} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{9}\textcolor{vhdlchar}{)},
00230             local_size => mem_local_size,
00231             local_wdata => mem_local_wdata,
00232             local_write_req => mem_local_write_req,
00233             pnf_per_byte => internal_pnf_per_byte\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{DOWNTO} \textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)},
00234             pnf_persist => internal_pnf,
00235             reset_n => reset_phy_clk_n,
00236             test_complete => internal_test_complete,
00237             test_status => internal_test_status
00238     \textcolor{vhdlchar}{)};
00239 
00240 \textcolor{keyword}{  --<< END MEGAWIZARD INSERT EXAMPLE\_DRIVER}
00241 
00242 \textcolor{keyword}{  --<< START MEGAWIZARD INSERT DLL}
00243 
00244 \textcolor{keyword}{  --<< END MEGAWIZARD INSERT DLL}
00245 
00246 \textcolor{keyword}{  --<< start europa}
00247 \textcolor{keyword}{  --vhdl renameroo for output signals}
00248   \textcolor{vhdlchar}{mem_addr} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_mem_addr};
00249 \textcolor{keyword}{  --vhdl renameroo for output signals}
00250   \textcolor{vhdlchar}{mem_ba} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_mem_ba};
00251 \textcolor{keyword}{  --vhdl renameroo for output signals}
00252   \textcolor{vhdlchar}{mem_cas_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_mem_cas_n};
00253 \textcolor{keyword}{  --vhdl renameroo for output signals}
00254   \textcolor{vhdlchar}{mem_cke} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_mem_cke};
00255 \textcolor{keyword}{  --vhdl renameroo for output signals}
00256   \textcolor{vhdlchar}{mem_dm} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_mem_dm};
00257 \textcolor{keyword}{  --vhdl renameroo for output signals}
00258   \textcolor{vhdlchar}{mem_odt} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_mem_odt};
00259 \textcolor{keyword}{  --vhdl renameroo for output signals}
00260   \textcolor{vhdlchar}{mem_ras_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_mem_ras_n};
00261 \textcolor{keyword}{  --vhdl renameroo for output signals}
00262   \textcolor{vhdlchar}{mem_we_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_mem_we_n};
00263 \textcolor{keyword}{  --vhdl renameroo for output signals}
00264   \textcolor{vhdlchar}{pnf} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_pnf};
00265 \textcolor{keyword}{  --vhdl renameroo for output signals}
00266   \textcolor{vhdlchar}{pnf_per_byte} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_pnf_per_byte};
00267 \textcolor{keyword}{  --vhdl renameroo for output signals}
00268   \textcolor{vhdlchar}{test_complete} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_test_complete};
00269 \textcolor{keyword}{  --vhdl renameroo for output signals}
00270   \textcolor{vhdlchar}{test_status} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{internal_test_status};
00271 
00272 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{europa};
00273 
\end{DoxyCode}
