\subsection{rx\+\_\+path\+\_\+top\+\_\+tb.\+vhd}
\label{rx__path__top__tb_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/rx\+\_\+path\+\_\+top/rx\+\_\+path/sim/rx\+\_\+path\+\_\+top\+\_\+tb.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/rx\+\_\+path\+\_\+top/rx\+\_\+path/sim/rx\+\_\+path\+\_\+top\+\_\+tb.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00002 \textcolor{keyword}{-- FILE:    rx\_path\_top\_tb.vhd}
00003 \textcolor{keyword}{-- DESCRIPTION: }
00004 \textcolor{keyword}{-- DATE:    Feb 13, 2014}
00005 \textcolor{keyword}{-- AUTHOR(s):   Lime Microsystems}
00006 \textcolor{keyword}{-- REVISIONS:}
00007 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00008 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00009 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00010 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00011 \textcolor{vhdlkeyword}{use }ieee.STD\_LOGIC\_TEXTIO.\textcolor{keywordflow}{ALL};
00012 \textcolor{vhdlkeyword}{use }STD.textio.\textcolor{keywordflow}{all};
00013 
00014 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00015 \textcolor{keyword}{-- Entity declaration}
00016 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00017 \textcolor{keywordflow}{entity }rx_path_top_tb \textcolor{keywordflow}{is}
00018 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{rx\_path\_top\_tb};
00019 
00020 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00021 \textcolor{keyword}{-- Architecture}
00022 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00023 
00024 \textcolor{keywordflow}{architecture} tb\_behave \textcolor{keywordflow}{of} rx_path_top_tb is
00025    \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{clk0_period}   \textcolor{vhdlchar}{:} \textcolor{comment}{time} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{50} \textcolor{vhdlchar}{ns};
00026    \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{clk1_period}   \textcolor{vhdlchar}{:} \textcolor{comment}{time} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{50} \textcolor{vhdlchar}{ns}; 
00027     \textcolor{keywordflow}{constant} \textcolor{vhdlchar}{chirp_period}   \textcolor{vhdlchar}{:} \textcolor{comment}{time} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{100}.\textcolor{vhdllogic}{1} \textcolor{vhdlchar}{us};
00028 \textcolor{keyword}{   --signals}
00029     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{clk1}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00030     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{reset_n}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic}; 
00031    
00032    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{sample_width}     \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{"10"};
00033    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{smpl_nr_delay}    \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{3422};\textcolor{keyword}{ -- delay value through buffers to successfully synchronize   }
00034    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mode}                \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic}\textcolor{vhdlchar}{:=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};\textcolor{keyword}{ -- JESD207: 1; TRXIQ: 0}
00035     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{trxiqpulse}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic}\textcolor{vhdlchar}{:=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};\textcolor{keyword}{ -- trxiqpulse on: 1; trxiqpulse off: 0}
00036     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ddr_en}             \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic}\textcolor{vhdlchar}{:=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};\textcolor{keyword}{ -- DDR: 1; SDR: 0}
00037     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mimo_en}        \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic}\textcolor{vhdlchar}{:=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};\textcolor{keyword}{ -- MIMO: 1; SISO: 0}
00038     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{ch_en}              \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{:=}\textcolor{vhdllogic}{"10"};\textcolor{keyword}{ --"01" - Ch. A, "10" - Ch. B, "11" -
       Ch. A and Ch. B. }
00039     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{fidm}               \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic}\textcolor{vhdlchar}{:=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};\textcolor{keyword}{ -- External Frame ID mode. Frame start at fsync = 0, when
       0. Frame start at fsync = 1, when 1. }
00040    
00041    
00042 \textcolor{keyword}{    -- Data to BB}
00043     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst0_DIQ}            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{11} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00044     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst0_fsync}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};\textcolor{keyword}{ --Frame start}
00045 
00046 \textcolor{keyword}{    --ins1 signals}
00047 \textcolor{keyword}{    --signal inst1\_fifo\_wrreq   : std\_logic;}
00048 \textcolor{keyword}{    --signal inst1\_fifo\_wdata : std\_logic\_vector(47 downto 0);}
00049    
00050    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst1_pct_fifo_wrreq}   \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00051    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst1_pct_fifo_wdata}   \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00052    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wrreq_cnt}              \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{:=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00053    \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wrreq_cnt_max}          \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned} \textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00054     
00055 \textcolor{keyword}{    --chirp sig}
00056     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{chirp_sig}                    \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00057     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{chirp_sync_en}                \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic} \textcolor{vhdlchar}{:=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00058     
00059     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{sync_period}              \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00060     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{chirp_trig}                   \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00061     
00062     \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{inst2_counter_enable}     \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00063    
00064   
00065 
00066 \textcolor{vhdlkeyword}{begin }
00067 
00068    \textcolor{vhdlchar}{wrreq_cnt_max} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"0080"} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{sample_width} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"01"} \textcolor{keywordflow}{else} 
00069                     \textcolor{vhdlchar}{x}\textcolor{vhdllogic}{"0200"};
00070   
00071       clock0: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00072 \textcolor{vhdlkeyword}{    begin}
00073         \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk0_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00074         \textcolor{vhdlchar}{clk0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk0_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00075     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{clock0};
00076 
00077     clock: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00078 \textcolor{vhdlkeyword}{    begin}
00079         \textcolor{vhdlchar}{clk1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk1_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00080         \textcolor{vhdlchar}{clk1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk1_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00081     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{clock};
00082     
00083         res: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00084 \textcolor{vhdlkeyword}{    begin}
00085         \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{clk0_period}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00086         \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait};
00087     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{res};
00088 
00089     
00090 \textcolor{keyword}{--chirp sig simulation}
00091     chirp\_sig\_input: \textcolor{keywordflow}{process} \textcolor{keywordflow}{is}
00092 \textcolor{vhdlkeyword}{    begin}
00093          \textcolor{vhdlchar}{chirp_sig} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{chirp_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00094          \textcolor{vhdlchar}{chirp_sig} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}; \textcolor{keywordflow}{wait} \textcolor{keywordflow}{for} \textcolor{vhdlchar}{chirp_period}\textcolor{vhdlchar}{/}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2};
00095     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process} \textcolor{vhdlchar}{chirp\_sig\_input};
00096     
00097     inst2\_counter\_enable <= inst0\_fsync;
00098 \textcolor{keyword}{-- gpio\_chirp\_sync\_top instance}
00099     inst2\_gpio\_chirp\_sync\_top : \textcolor{keywordflow}{entity} work.gpio_chirp_sync_top
00100 \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map}(
00101     chirp_sync_width        => \textcolor{vhdllogic}{64}
00102 \textcolor{vhdlchar}{)}
00103 \textcolor{keywordflow}{port} \textcolor{keywordflow}{map} (
00104     clk                 => clk0,
00105     counter_clk             => inst2_counter_enable,
00106     reset_n             => reset_n,
00107 
00108 \textcolor{keyword}{    -- Chirp Sync I/Os}
00109     chirp_sig               => chirp_sig,
00110     sync_period             => sync_period,
00111     chirp_trig              => chirp_trig,
00112         
00113 \textcolor{keyword}{    --Mode settings}
00114     sample_width         => sample_width,
00115     mode                 => mode,
00116     trxiqpulse           => trxiqpulse,
00117     ddr_en               => ddr_en,
00118     mimo_en              => mimo_en,
00119     ch_en                => ch_en,
00120     chirp_sync_en           => chirp_sync_en
00121 \textcolor{vhdlchar}{)};
00122    
00123 \textcolor{keyword}{-- simulated data}
00124    inst0\_LMS7002\_DIQ2 : \textcolor{keywordflow}{entity} work.LMS7002_DIQ2_sim 
00125 \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map} (
00126     file_name => \textcolor{keyword}{"sim/adc\_data\_Packet680.txt"},
00127     data_width => \textcolor{vhdllogic}{12}
00128 \textcolor{vhdlchar}{)}
00129 \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00130     clk         => clk0,
00131     reset_n     => reset_n, 
00132     mode            => mode,
00133     trxiqpulse  => trxiqpulse,
00134     ddr_en      => ddr_en, 
00135     mimo_en     => mimo_en,
00136     fidm            => fidm, 
00137 
00138 \textcolor{keyword}{    -- Data to BB}
00139     DIQ             => inst0_DIQ,
00140     fsync           => inst0_fsync
00141     
00142     \textcolor{vhdlchar}{)};
00143     
00144     
00145 inst1\_rx\_path\_top : \textcolor{keywordflow}{entity} work.rx_path_top
00146    \textcolor{keywordflow}{generic} \textcolor{keywordflow}{map}( 
00147       dev_family                => \textcolor{keyword}{"Cyclone IV E"}  ,
00148       iq_width                  => \textcolor{vhdllogic}{12},
00149       invert_input_clocks   => \textcolor{keyword}{"OFF"},
00150       smpl_buff_rdusedw_w  => \textcolor{vhdllogic}{11},\textcolor{keyword}{ --bus width in bits }
00151       pct_buff_wrusedw_w   => \textcolor{vhdllogic}{12} \textcolor{keyword}{--bus width in bits }
00152       \textcolor{vhdlchar}{)}
00153    \textcolor{keywordflow}{port} \textcolor{keywordflow}{map}(
00154       clk                  => clk0,
00155       reset_n              => reset_n,
00156       test_ptrn_en         => '0',
00157       sample_width         => sample_width,
00158       mode                   => mode,
00159         trxiqpulse           => trxiqpulse,
00160         ddr_en               => ddr_en,
00161         mimo_en              => mimo_en,
00162         ch_en                    => ch_en,
00163         fidm                     => fidm,
00164         chirp_sync_en           => chirp_sync_en,
00165       DIQ                    => inst0_DIQ,
00166         fsync                   => inst0_fsync,
00167       pct_fifo_wusedw      => \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}=>'0'\textcolor{vhdlchar}{)},
00168       pct_fifo_wrreq       => inst1_pct_fifo_wrreq,
00169       pct_fifo_wdata       => inst1_pct_fifo_wdata,
00170       clr_smpl_nr          => '0',
00171       ld_smpl_nr           => '0',
00172       smpl_nr_in           => \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}=> '0'\textcolor{vhdlchar}{)},
00173       smpl_nr_cnt          => \textcolor{keywordflow}{open},
00174       tx_pct_loss          => '0',
00175       tx_pct_loss_clr      => '0',
00176         
00177 \textcolor{keyword}{        --sample compare}
00178       smpl_cmp_start       => '0',
00179       smpl_cmp_length      => \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}=> '0'\textcolor{vhdlchar}{)},
00180       smpl_cmp_done        => \textcolor{keywordflow}{open},
00181       smpl_cmp_err         => \textcolor{keywordflow}{open},
00182 \textcolor{keyword}{        --chirp\_sync}
00183         chirp_sync_length       => sync_period,
00184         chirp_sync_trig     => chirp_trig,
00185         bit_pack_valid          => \textcolor{keywordflow}{open},
00186         smpl_buff_rdreq     => \textcolor{keywordflow}{open}
00187      
00188         \textcolor{vhdlchar}{)};
00189         
00190 \textcolor{keyword}{ -- ----------------------------------------------------------------------------}
00191 \textcolor{keyword}{-- Write packet output to file}
00192 \textcolor{keyword}{-- ----------------------------------------------------------------------------       }
00193 \textcolor{keywordflow}{process}(clk0) \textcolor{keywordflow}{is}
00194 \textcolor{keyword}{   -- FILE out\_file  : TEXT OPEN WRITE\_MODE IS "sim/out\_pct";}
00195     \textcolor{keywordflow}{FILE} out\_file  : TEXT \textcolor{keywordflow}{OPEN} WRITE\_MODE \textcolor{keywordflow}{IS} \textcolor{keyword}{"sim/out\_pct\_6\_12b"};
00196 \textcolor{keyword}{   -- FILE out\_file  : TEXT OPEN WRITE\_MODE IS "sim/out\_pct\_6\_14b";}
00197 \textcolor{keyword}{   -- FILE out\_file  : TEXT OPEN WRITE\_MODE IS "sim/out\_pct\_6\_16b";}
00198    \textcolor{keywordflow}{variable} \textcolor{vhdlchar}{out\_line} \textcolor{vhdlchar}{:} \textcolor{vhdlchar}{LINE};
00199 \textcolor{vhdlkeyword}{begin}
00200    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{rising\_edge}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk0}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then} 
00201       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{inst1_pct_fifo_wrreq} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00202          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wrreq_cnt} \textcolor{vhdlchar}{<} \textcolor{vhdlchar}{wrreq_cnt_max}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{then} 
00203             \textcolor{vhdlchar}{wrreq_cnt} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{wrreq_cnt}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1};
00204          \textcolor{keywordflow}{else} 
00205             \textcolor{vhdlchar}{wrreq_cnt} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00206          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00207             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wrreq_cnt} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{then} 
00208                \textcolor{vhdlchar}{HWRITE}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{out\_line}\textcolor{vhdlchar}{,}\textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{inst1_pct_fifo_wdata}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{+}\textcolor{vhdlchar}{
      smpl_nr_delay}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)};
00209                \textcolor{vhdlchar}{WRITELINE}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{out\_file}\textcolor{vhdlchar}{,} \textcolor{vhdlchar}{out\_line}\textcolor{vhdlchar}{)};
00210             \textcolor{keywordflow}{else} 
00211                \textcolor{vhdlchar}{HWRITE}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{out\_line}\textcolor{vhdlchar}{,}\textcolor{vhdlchar}{inst1_pct_fifo_wdata}\textcolor{vhdlchar}{)};
00212                \textcolor{vhdlchar}{WRITELINE}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{out\_file}\textcolor{vhdlchar}{,} \textcolor{vhdlchar}{out\_line}\textcolor{vhdlchar}{)};
00213             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00214       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00215    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00216 
00217 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00218     
00219     
00220     \textcolor{keywordflow}{end} \textcolor{vhdlchar}{tb\_behave};
00221   
00222   
00223 
00224 
00225   
\end{DoxyCode}
