\subsection{pack\+\_\+48\+\_\+to\+\_\+64.\+vhd}
\label{bit__pack_2synth_2pack__48__to__64_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/bit\+\_\+pack/synth/pack\+\_\+48\+\_\+to\+\_\+64.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/bit\+\_\+pack/synth/pack\+\_\+48\+\_\+to\+\_\+64.\+vhd}}

\begin{DoxyCode}
00001 
00002 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00003 \textcolor{keyword}{-- FILE:    pack\_48\_to\_64.vhd}
00004 \textcolor{keyword}{-- DESCRIPTION: packs bits from 48 to 64 bits}
00005 \textcolor{keyword}{-- DATE:    Nov 14, 2016}
00006 \textcolor{keyword}{-- AUTHOR(s):   Lime Microsystems}
00007 \textcolor{keyword}{-- REVISIONS:}
00008 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00009 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00010 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00011 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00012 
00013 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00014 \textcolor{keyword}{-- Entity declaration}
00015 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00016 \textcolor{keywordflow}{entity }pack_48_to_64 \textcolor{keywordflow}{is}
00017   \textcolor{keywordflow}{port} \textcolor{vhdlchar}{(}
00018 \textcolor{keyword}{      --input ports }
00019       \textcolor{vhdlchar}{clk}               \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00020       \textcolor{vhdlchar}{reset_n}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00021         \textcolor{vhdlchar}{data_in_wrreq}   \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00022         \textcolor{vhdlchar}{data48_in}       \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00023         \textcolor{vhdlchar}{data64_out}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00024         \textcolor{vhdlchar}{data_out_valid}  \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic}
00025        
00026         \textcolor{vhdlchar}{)};
00027 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{pack\_48\_to\_64};
00028 
00029 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00030 \textcolor{keyword}{-- Architecture}
00031 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00032 \textcolor{keywordflow}{architecture} arch \textcolor{keywordflow}{of} pack_48_to_64 is
00033 \textcolor{keyword}{--declare signals,  components here}
00034 
00035 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_0}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00036 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_1}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00037 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_2}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00038 
00039 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_0_valid}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00040 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_1_valid}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00041 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_2_valid}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00042 
00043 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data64_out_mux}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00044 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data64_out_reg}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00045 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data_out_valid_reg}  \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00046 
00047 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wr_cnt}                 \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00048 
00049 
00050 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data48_in_reg}            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00051 
00052  
00053 
00054   
00055 \textcolor{vhdlkeyword}{begin}
00056 
00057 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00058 \textcolor{keyword}{-- Input data register}
00059 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00060   \textcolor{keywordflow}{process}(reset_n, clk)
00061 \textcolor{vhdlkeyword}{    begin}
00062       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00063             \textcolor{vhdlchar}{data48_in_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00064       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00065          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{data_in_wrreq} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00066                 \textcolor{vhdlchar}{data48_in_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data48_in};
00067          \textcolor{keywordflow}{else} 
00068             \textcolor{vhdlchar}{data48_in_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data48_in_reg};
00069          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00070         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00071     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00072 
00073 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00074 \textcolor{keyword}{-- Write counter}
00075 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00076 \textcolor{keywordflow}{process}(clk, reset_n) \textcolor{keywordflow}{is} 
00077 \textcolor{vhdlkeyword}{    begin }
00078         \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00079             \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00080         \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00081             \textcolor{keywordflow}{if}  \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00082                 \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{<} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{then} 
00083                     \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1};
00084                 \textcolor{keywordflow}{else} 
00085                     \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00086                 \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00087             \textcolor{keywordflow}{else}
00088                 \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{wr_cnt};
00089             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00090         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00091 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00092 
00093 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00094 \textcolor{keyword}{-- 64b word formation}
00095 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00096   \textcolor{keywordflow}{process}(reset_n, clk)
00097 \textcolor{vhdlkeyword}{    begin}
00098       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00099             \textcolor{vhdlchar}{word64_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00100          \textcolor{vhdlchar}{word64_0_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00101       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00102          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00103                 \textcolor{vhdlchar}{word64_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data48_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data48_in_reg};
00104             \textcolor{vhdlchar}{word64_0_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00105             \textcolor{keywordflow}{else} 
00106                 \textcolor{vhdlchar}{word64_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_0};
00107             \textcolor{vhdlchar}{word64_0_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00108             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00109         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00110     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00111 
00112   \textcolor{keywordflow}{process}(reset_n, clk)
00113 \textcolor{vhdlkeyword}{    begin}
00114       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00115             \textcolor{vhdlchar}{word64_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00116          \textcolor{vhdlchar}{word64_1_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00117       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00118             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00119                 \textcolor{vhdlchar}{word64_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data48_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data48_in_reg}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{16}\textcolor{vhdlchar}{)};
00120             \textcolor{vhdlchar}{word64_1_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00121             \textcolor{keywordflow}{else} 
00122                 \textcolor{vhdlchar}{word64_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_1};
00123             \textcolor{vhdlchar}{word64_1_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00124             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00125         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00126     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00127 
00128   \textcolor{keywordflow}{process}(reset_n, clk)
00129 \textcolor{vhdlkeyword}{    begin}
00130       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00131             \textcolor{vhdlchar}{word64_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00132          \textcolor{vhdlchar}{word64_2_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00133       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00134             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00135                 \textcolor{vhdlchar}{word64_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data48_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data48_in_reg}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{32}\textcolor{vhdlchar}{)};
00136             \textcolor{vhdlchar}{word64_2_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00137             \textcolor{keywordflow}{else} 
00138                 \textcolor{vhdlchar}{word64_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_2};
00139             \textcolor{vhdlchar}{word64_2_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00140             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00141         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00142     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00143 
00144 
00145 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00146 \textcolor{keyword}{-- 64b word output mux}
00147 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00148 \textcolor{vhdlchar}{data64_out_mux}\textcolor{vhdlchar}{<=}    \textcolor{vhdlchar}{word64_0} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{word64_0_valid}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} 
00149                   \textcolor{vhdlchar}{word64_1} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{word64_1_valid}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else}
00150                   \textcolor{vhdlchar}{word64_2};
00151 
00152 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00153 \textcolor{keyword}{-- Output register stage}
00154 \textcolor{keyword}{-- ----------------------------------------------------------------------------                  }
00155   \textcolor{keywordflow}{process}(reset_n, clk)
00156 \textcolor{vhdlkeyword}{    begin}
00157       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00158          \textcolor{vhdlchar}{data64_out_reg}       \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00159             \textcolor{vhdlchar}{data_out_valid_reg}   \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};        
00160       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00161          \textcolor{vhdlchar}{data64_out_reg}     \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data64_out_mux}; 
00162             \textcolor{vhdlchar}{data_out_valid_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{word64_0_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word64_1_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{
      word64_2_valid};
00163         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00164     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00165     
00166 \textcolor{vhdlchar}{data64_out}     \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data64_out_reg};
00167 \textcolor{vhdlchar}{data_out_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data_out_valid_reg};
00168 
00169  
00170 
00171 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{arch};   
00172 
00173 
00174 
\end{DoxyCode}
