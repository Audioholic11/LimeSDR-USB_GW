\subsection{txiq.\+vhd}
\label{txiq_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/tx\+\_\+path\+\_\+top/fifo2diq/synth/txiq.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/tx\+\_\+path\+\_\+top/fifo2diq/synth/txiq.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00002 \textcolor{keyword}{-- FILE:    txiq.vhd}
00003 \textcolor{keyword}{-- DESCRIPTION: TXIQ modes: }
00004 \textcolor{keyword}{-- DATE:    Jan 20, 2017}
00005 \textcolor{keyword}{-- AUTHOR(s):   Lime Microsystems}
00006 \textcolor{keyword}{-- REVISIONS:}
00007 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00008 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00009 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00010 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00011 
00012 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00013 \textcolor{keyword}{-- Entity declaration}
00014 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00015 \textcolor{keywordflow}{entity }txiq \textcolor{keywordflow}{is}
00016    \textcolor{keywordflow}{generic}\textcolor{vhdlchar}{(} 
00017       \textcolor{vhdlchar}{dev_family}    \textcolor{vhdlchar}{:} \textcolor{comment}{string} \textcolor{vhdlchar}{:=} \textcolor{keyword}{"Cyclone IV E"};
00018       \textcolor{vhdlchar}{iq_width}      \textcolor{vhdlchar}{:} \textcolor{comment}{integer} \textcolor{vhdlchar}{:=} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{12}
00019    \textcolor{vhdlchar}{)};
00020    \textcolor{keywordflow}{port} \textcolor{vhdlchar}{(}
00021       \textcolor{vhdlchar}{clk}         \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00022       \textcolor{vhdlchar}{reset_n}     \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00023       \textcolor{vhdlchar}{en}          \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00024 \textcolor{keyword}{      --Mode settings}
00025       \textcolor{vhdlchar}{trxiqpulse}    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{ -- trxiqpulse on: 1; trxiqpulse off: 0}
00026         \textcolor{vhdlchar}{ddr_en}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{ -- DDR: 1; SDR: 0}
00027         \textcolor{vhdlchar}{mimo_en}     \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{ -- SISO: 1; MIMO: 0}
00028         \textcolor{vhdlchar}{ch_en}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};\textcolor{keyword}{ --"01" - Ch. A, "10" - Ch. B, "11" - Ch. A and
       Ch. B.  }
00029         \textcolor{vhdlchar}{fidm}            \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};\textcolor{keyword}{ -- External Frame ID mode. Frame start at fsync = 0, when 0. Frame
       start at fsync = 1, when 1.}
00030 \textcolor{keyword}{      --Tx interface data }
00031       \textcolor{vhdlchar}{DIQ_h}         \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00032         \textcolor{vhdlchar}{DIQ_l}          \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00033 \textcolor{keyword}{      --fifo ports }
00034       \textcolor{vhdlchar}{fifo_rdempty}\textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00035       \textcolor{vhdlchar}{fifo_rdreq}  \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic};
00036       \textcolor{vhdlchar}{fifo_q}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{*}\textcolor{vhdllogic}{4-1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00037 \textcolor{keyword}{      --TX activity indication}
00038       \textcolor{vhdlchar}{txant_en}    \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic}
00039       
00040         \textcolor{vhdlchar}{)};
00041 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{txiq};
00042 
00043 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00044 \textcolor{keyword}{--Truth table for mode selection}
00045 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00046 \textcolor{keyword}{-- Mode       | TRXIQ\_PULSE  | MIMO DDR  | MIMO DDR  | MIMO DDR  |SISO SDR   | SISO DDR  |}
00047 \textcolor{keyword}{--            |              |  all ch.  |  1 ch.    |  2 ch.    |           |           |}
00048 \textcolor{keyword}{-- trxiqpulse |       H      |     L     |    L      |    L      |     L     |     L     |}
00049 \textcolor{keyword}{-- ddr\_en     |       X      |     H     |    H      |    H      |     H     |     L     |}
00050 \textcolor{keyword}{-- mimo\_en    |       X      |     H     |    H      |    H      |     L     |     L     |}
00051 \textcolor{keyword}{-- ch\_en      |       XX     |     HH    |   LH      |    HL     |     XX    |     XX    |}
00052 
00053 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00054 \textcolor{keyword}{-- Architecture}
00055 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00056 \textcolor{keywordflow}{architecture} arch \textcolor{keywordflow}{of} txiq is
00057 \textcolor{keyword}{--declare signals,  components here}
00058 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{int_fifo_rdreq}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00059 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{int_fifo_q_valid}    \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00060 
00061 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_smpl_0}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00062 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_smpl_1}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00063 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_smpl_2}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00064 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_smpl_3}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00065 
00066 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_pos0_L}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00067 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_pos1_L}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00068 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_pos2_L}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00069 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_pos3_L}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00070 
00071 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_pos0_H}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00072 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_pos1_H}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00073 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_pos2_H}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00074 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_pos3_H}          \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00075 
00076 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_fsync_L}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00077 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_fsync_H}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00078 
00079 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{int_fsync_L}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00080 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{int_fsync_H}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00081 
00082 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_L_reg_0}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00083 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_L_reg_1}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00084 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_L_reg_2}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00085 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_L_reg_3}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00086 
00087 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_H_reg_0}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00088 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_H_reg_1}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00089 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_H_reg_2}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00090 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{diq_H_reg_3}         \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{iq_width} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00091 
00092 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{int_mode}            \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00093 
00094 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{rd_wait_cnt}         \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00095 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{rd_wait_cnt_max}     \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00096 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{rd_wait_cnt_max_reg} \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00097 
00098 \textcolor{keywordflow}{type} \textcolor{vhdlchar}{state_type} \textcolor{keywordflow}{is} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{idle}\textcolor{vhdlchar}{,} \textcolor{vhdlchar}{rd\_samples}\textcolor{vhdlchar}{,} \textcolor{vhdlchar}{wait\_rd\_cycles}\textcolor{vhdlchar}{)};
00099 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{current_state}\textcolor{vhdlchar}{,} \textcolor{vhdlchar}{next_state} \textcolor{vhdlchar}{:} \textcolor{vhdlchar}{state_type};
00100   
00101 \textcolor{vhdlkeyword}{begin}
00102 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00103 \textcolor{keyword}{-- DIQ samples from fifo}
00104 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00105 \textcolor{vhdlchar}{diq_smpl_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{fifo_q}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{3}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{)};
00106 \textcolor{vhdlchar}{diq_smpl_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{fifo_q}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{)};
00107 \textcolor{vhdlchar}{diq_smpl_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{fifo_q}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{)};
00108 \textcolor{vhdlchar}{diq_smpl_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{fifo_q}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{-}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{*}\textcolor{vhdlchar}{iq_width}\textcolor{vhdlchar}{)};
00109 
00110 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00111 \textcolor{keyword}{--Internal mode selection for DIQ position}
00112 \textcolor{keyword}{-- "00" - MIMO DDR both channels enabled, SISO DDR, TXIQ\_PULSE}
00113 \textcolor{keyword}{-- "01" - MIMO DDR, TXIQ\_PULSE first channel enabled}
00114 \textcolor{keyword}{-- "10" - MIMO DDR, TXIQ\_PULSE second channel enabled}
00115 \textcolor{keyword}{-- "11" - SISO SDR }
00116 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00117  \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{<=} \textcolor{vhdllogic}{"00"} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{mimo_en}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{ddr_en}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{mimo_en}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{
      trxiqpulse} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{ch_en}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{"11"}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{else} 
00118              \textcolor{vhdllogic}{"01"} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{mimo_en}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{trxiqpulse} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{ch_en}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{"01"}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{else}
00119              \textcolor{vhdllogic}{"10"} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{mimo_en}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{trxiqpulse} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{ch_en}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{"10"}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{else}
00120              \textcolor{vhdllogic}{"11"};
00121              
00122 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00123 \textcolor{keyword}{--Muxes for fsync signal}
00124 \textcolor{keyword}{-- ----------------------------------------------------------------------------  }
00125 \textcolor{vhdlchar}{mux_fsync_H} \textcolor{vhdlchar}{<=} \textcolor{vhdllogic}{"1111"} \textcolor{keywordflow}{when}  \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{mimo_en} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{ddr_en} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{trxiqpulse}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{else} 
00126                \textcolor{vhdllogic}{"0101"};
00127 
00128 \textcolor{vhdlchar}{mux_fsync_L} \textcolor{vhdlchar}{<=} \textcolor{vhdllogic}{"0000"} \textcolor{keywordflow}{when}  \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{mimo_en} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{ddr_en} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{trxiqpulse}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}  \textcolor{keywordflow}{else} 
00129                \textcolor{vhdllogic}{"0101"};
00130                
00131 \textcolor{vhdlchar}{int_fsync_L} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{not} \textcolor{vhdlchar}{mux_fsync_L}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{keywordflow}{not} \textcolor{vhdlchar}{mux_fsync_L}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{keywordflow}{not} \textcolor{vhdlchar}{mux_fsync_L}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{keywordflow}{not} \textcolor{vhdlchar}{
      mux_fsync_L}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{fidm} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} 
00132                \textcolor{vhdlchar}{mux_fsync_L};
00133                
00134 \textcolor{vhdlchar}{int_fsync_H} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{not} \textcolor{vhdlchar}{mux_fsync_H}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{keywordflow}{not} \textcolor{vhdlchar}{mux_fsync_H}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{keywordflow}{not} \textcolor{vhdlchar}{mux_fsync_H}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{keywordflow}{not} \textcolor{vhdlchar}{
      mux_fsync_H}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{fidm} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} 
00135                \textcolor{vhdlchar}{mux_fsync_H};
00136            
00137 
00138 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00139 \textcolor{keyword}{--Muxes for diq  H positions}
00140 \textcolor{keyword}{-- ----------------------------------------------------------------------------            }
00141 \textcolor{keyword}{--mux\_posx\_H      : |3            |2          | 1         |0           }
00142 \textcolor{keyword}{--int\_mode = "00" : |0            |0          |diq\_smpl\_2 |diq\_smpl\_0}
00143 \textcolor{keyword}{--int\_mode = "01" : |0            |diq\_smpl\_2 |0          |diq\_smpl\_0}
00144 \textcolor{keyword}{--int\_mode = "10" : |diq\_smpl\_2   |0          |diq\_smpl\_0 |0}
00145 \textcolor{keyword}{--int\_mode = "11" : |diq\_smpl\_3   |diq\_smpl\_2 |diq\_smpl\_1 |diq\_smpl\_0}
00146 
00147 \textcolor{vhdlchar}{mux_pos0_H} \textcolor{vhdlchar}{<=}  \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"10"} \textcolor{keywordflow}{else} 
00148                \textcolor{vhdlchar}{diq_smpl_0};
00149                   
00150 \textcolor{vhdlchar}{mux_pos1_H} \textcolor{vhdlchar}{<=}  \textcolor{vhdlchar}{diq_smpl_2}     \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"00"} \textcolor{keywordflow}{else} 
00151                \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)}  \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"01"} \textcolor{keywordflow}{else} 
00152                \textcolor{vhdlchar}{diq_smpl_0}     \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"10"} \textcolor{keywordflow}{else} 
00153                \textcolor{vhdlchar}{diq_smpl_1};
00154                
00155 \textcolor{vhdlchar}{mux_pos2_H} \textcolor{vhdlchar}{<=}  \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)}  \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} 
00156                \textcolor{vhdlchar}{diq_smpl_2};               
00157                   
00158 \textcolor{vhdlchar}{mux_pos3_H} \textcolor{vhdlchar}{<=}  \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)}  \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} 
00159                \textcolor{vhdlchar}{diq_smpl_2}     \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"10"} \textcolor{keywordflow}{else} 
00160                \textcolor{vhdlchar}{diq_smpl_3};
00161 \textcolor{keyword}{-- ----------------------------------------------------------------------------               }
00162 \textcolor{keyword}{-- Muxes for diq  L positions}
00163 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00164 \textcolor{keyword}{--mux\_posx\_L      : |3            |2          | 1         |0           }
00165 \textcolor{keyword}{--int\_mode = "00" : |0            |0          |diq\_smpl\_3 |diq\_smpl\_1}
00166 \textcolor{keyword}{--int\_mode = "01" : |0            |diq\_smpl\_3 |0          |diq\_smpl\_1}
00167 \textcolor{keyword}{--int\_mode = "10" : |diq\_smpl\_3   |0          |diq\_smpl\_1 |0}
00168 \textcolor{keyword}{--int\_mode = "11" : |diq\_smpl\_3   |diq\_smpl\_2 |diq\_smpl\_1 |diq\_smpl\_0}
00169  
00170 \textcolor{vhdlchar}{mux_pos0_L} \textcolor{vhdlchar}{<=}  \textcolor{vhdlchar}{diq_smpl_0}     \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"11"} \textcolor{keywordflow}{else} 
00171                \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)}  \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"10"} \textcolor{keywordflow}{else} 
00172                \textcolor{vhdlchar}{diq_smpl_1};
00173                   
00174 \textcolor{vhdlchar}{mux_pos1_L} \textcolor{vhdlchar}{<=}  \textcolor{vhdlchar}{diq_smpl_3}     \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"00"} \textcolor{keywordflow}{else} 
00175                \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)}  \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"01"} \textcolor{keywordflow}{else} 
00176                \textcolor{vhdlchar}{diq_smpl_1};
00177                
00178 \textcolor{vhdlchar}{mux_pos2_L} \textcolor{vhdlchar}{<=}  \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)}  \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} 
00179                \textcolor{vhdlchar}{diq_smpl_3}     \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"01"} \textcolor{keywordflow}{else} 
00180                \textcolor{vhdlchar}{diq_smpl_2};               
00181                   
00182 \textcolor{vhdlchar}{mux_pos3_L} \textcolor{vhdlchar}{<=}  \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)}  \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} 
00183                \textcolor{vhdlchar}{diq_smpl_3}; 
00184 
00185 
00186 
00187 \textcolor{vhdlchar}{rd_wait_cnt_max} \textcolor{vhdlchar}{<=}   \textcolor{vhdllogic}{"0000"} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"00"} \textcolor{keywordflow}{else} 
00188                      \textcolor{vhdllogic}{"0010"} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{int_mode} \textcolor{vhdlchar}{=} \textcolor{vhdllogic}{"11"} \textcolor{keywordflow}{else} 
00189                      \textcolor{vhdllogic}{"0010"} ; 
00190                      
00191 rd\_wait\_cnt\_proc: \textcolor{keywordflow}{process}(clk, reset_n) 
00192 \textcolor{vhdlkeyword}{begin }
00193    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00194       \textcolor{vhdlchar}{rd_wait_cnt} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00195       \textcolor{vhdlchar}{rd_wait_cnt_max_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00196    \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00197       \textcolor{vhdlchar}{rd_wait_cnt_max_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{rd_wait_cnt_max};
00198       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{current_state} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{wait\_rd\_cycles} \textcolor{keywordflow}{then}
00199          \textcolor{vhdlchar}{rd_wait_cnt} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{rd_wait_cnt}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1};
00200       \textcolor{keywordflow}{else}
00201          \textcolor{vhdlchar}{rd_wait_cnt} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00202       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00203    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00204 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00205  
00206 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00207 \textcolor{keyword}{--state machine to control when to read from FIFO}
00208 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00209 fsm\_f : \textcolor{keywordflow}{process}(clk, reset_n)\textcolor{keywordflow}{begin}
00210    \textcolor{keywordflow}{if}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)}\textcolor{keywordflow}{then}
00211       \textcolor{vhdlchar}{current_state} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{idle};
00212    \textcolor{keywordflow}{elsif}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)}\textcolor{keywordflow}{then} 
00213       \textcolor{vhdlchar}{current_state} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{next_state};
00214    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00215 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00216 
00217 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00218 \textcolor{keyword}{--state machine combo}
00219 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00220 fsm : \textcolor{keywordflow}{process}(current_state, fifo_rdempty, rd_wait_cnt, rd_wait_cnt_max_reg, en) \textcolor{keywordflow}{begin}
00221    \textcolor{vhdlchar}{next_state} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{current_state};
00222    \textcolor{keywordflow}{case} \textcolor{vhdlchar}{current_state} \textcolor{keywordflow}{is}
00223    
00224       \textcolor{keywordflow}{when} \textcolor{vhdlchar}{idle} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{keyword}{ --idle state}
00225          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{fifo_rdempty} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{en} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00226             \textcolor{vhdlchar}{next_state} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{rd\_samples};
00227          \textcolor{keywordflow}{else} 
00228             \textcolor{vhdlchar}{next_state} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{idle};
00229          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00230          
00231       \textcolor{keywordflow}{when} \textcolor{vhdlchar}{rd\_samples} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>} 
00232          \textcolor{vhdlchar}{next_state} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{wait\_rd\_cycles};
00233       
00234       \textcolor{keywordflow}{when} \textcolor{vhdlchar}{wait\_rd\_cycles} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}
00235          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{rd_wait_cnt} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{rd_wait_cnt_max_reg} \textcolor{keywordflow}{then} 
00236             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{fifo_rdempty} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{en} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00237                \textcolor{vhdlchar}{next_state} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{rd\_samples};
00238             \textcolor{keywordflow}{else} 
00239                \textcolor{vhdlchar}{next_state} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{idle};
00240             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00241          \textcolor{keywordflow}{else} 
00242             \textcolor{vhdlchar}{next_state} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{wait\_rd\_cycles};
00243          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00244                   
00245       \textcolor{keywordflow}{when} \textcolor{keywordflow}{others} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>} 
00246          \textcolor{vhdlchar}{next_state}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{idle};
00247    \textcolor{keywordflow}{end} \textcolor{keywordflow}{case};
00248 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00249 
00250 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00251 \textcolor{keyword}{-- FIFO read signal}
00252 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00253 \textcolor{keywordflow}{process}(current_state)
00254 \textcolor{vhdlkeyword}{begin}
00255    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{current_state} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{rd\_samples} \textcolor{keywordflow}{then} 
00256       \textcolor{vhdlchar}{int_fifo_rdreq} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00257    \textcolor{keywordflow}{else} 
00258       \textcolor{vhdlchar}{int_fifo_rdreq} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00259    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00260 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00261 
00262 \textcolor{keyword}{--To avoid reading from empty FIFO}
00263 \textcolor{vhdlchar}{fifo_rdreq} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{int_fifo_rdreq} \textcolor{keywordflow}{AND} \textcolor{keywordflow}{NOT} \textcolor{vhdlchar}{fifo_rdempty};
00264 
00265 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00266 \textcolor{keyword}{-- Internal valdid data signal (delayed int\_fifo\_rdreq version)}
00267 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00268 \textcolor{keywordflow}{process}(clk, reset_n)
00269 \textcolor{vhdlkeyword}{ begin}
00270    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00271       \textcolor{vhdlchar}{int_fifo_q_valid}  \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00272    \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00273       \textcolor{vhdlchar}{int_fifo_q_valid} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{int_fifo_rdreq};
00274    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00275  \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00276  
00277 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00278 \textcolor{keyword}{-- TX activity indication}
00279 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00280 \textcolor{keywordflow}{process}(clk, reset_n)
00281 \textcolor{vhdlkeyword}{ begin}
00282    \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00283       \textcolor{vhdlchar}{txant_en}  \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00284    \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{AND} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00285       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{current_state} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{idle} \textcolor{keywordflow}{then} 
00286          \textcolor{vhdlchar}{txant_en} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00287       \textcolor{keywordflow}{else} 
00288          \textcolor{vhdlchar}{txant_en} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00289       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00290    \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00291  \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00292  
00293  
00294 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00295 \textcolor{keyword}{-- Shift reg array with synchronous load }
00296 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00297 diq\_L\_reg\_x\_proc : \textcolor{keywordflow}{process}(reset_n, clk)
00298 \textcolor{vhdlkeyword}{   begin}
00299       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00300          \textcolor{vhdlchar}{diq_L_reg_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00301          \textcolor{vhdlchar}{diq_L_reg_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00302          \textcolor{vhdlchar}{diq_L_reg_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00303          \textcolor{vhdlchar}{diq_L_reg_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00304       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00305          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{int_fifo_q_valid} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00306             \textcolor{vhdlchar}{diq_L_reg_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{int_fsync_L}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{mux_pos0_L};
00307             \textcolor{vhdlchar}{diq_L_reg_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{int_fsync_L}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{mux_pos1_L};
00308             \textcolor{vhdlchar}{diq_L_reg_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{int_fsync_L}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{mux_pos2_L};
00309             \textcolor{vhdlchar}{diq_L_reg_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{int_fsync_L}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{mux_pos3_L};
00310          \textcolor{keywordflow}{else} 
00311             \textcolor{vhdlchar}{diq_L_reg_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{diq_L_reg_1};
00312             \textcolor{vhdlchar}{diq_L_reg_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{diq_L_reg_2};
00313             \textcolor{vhdlchar}{diq_L_reg_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{diq_L_reg_3};
00314             \textcolor{vhdlchar}{diq_L_reg_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00315          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if}; 
00316       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00317 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00318      
00319 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00320 \textcolor{keyword}{-- Shift reg array with synchronous load }
00321 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00322 diq\_H\_reg\_x\_proc : \textcolor{keywordflow}{process}(reset_n, clk)
00323 \textcolor{vhdlkeyword}{   begin}
00324       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00325          \textcolor{vhdlchar}{diq_H_reg_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00326          \textcolor{vhdlchar}{diq_H_reg_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00327          \textcolor{vhdlchar}{diq_H_reg_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00328          \textcolor{vhdlchar}{diq_H_reg_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00329       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00330          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{int_fifo_q_valid} \textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00331             \textcolor{vhdlchar}{diq_H_reg_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{int_fsync_H}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{mux_pos0_H};
00332             \textcolor{vhdlchar}{diq_H_reg_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{int_fsync_H}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{mux_pos1_H};
00333             \textcolor{vhdlchar}{diq_H_reg_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{int_fsync_H}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{mux_pos2_H};
00334             \textcolor{vhdlchar}{diq_H_reg_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{int_fsync_H}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{mux_pos3_H};
00335          \textcolor{keywordflow}{else} 
00336             \textcolor{vhdlchar}{diq_H_reg_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{diq_H_reg_1};
00337             \textcolor{vhdlchar}{diq_H_reg_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{diq_H_reg_2};
00338             \textcolor{vhdlchar}{diq_H_reg_2} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{diq_H_reg_3};
00339             \textcolor{vhdlchar}{diq_H_reg_3} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00340          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if}; 
00341       \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00342 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00343     
00344 \textcolor{keyword}{--To output ports   }
00345 \textcolor{vhdlchar}{DIQ_l} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{diq_L_reg_0};
00346 \textcolor{vhdlchar}{DIQ_h} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{diq_H_reg_0}; 
00347  
00348 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{arch};   
00349 
00350 
\end{DoxyCode}
