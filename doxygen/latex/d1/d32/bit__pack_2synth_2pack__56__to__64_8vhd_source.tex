\subsection{pack\+\_\+56\+\_\+to\+\_\+64.\+vhd}
\label{bit__pack_2synth_2pack__56__to__64_8vhd_source}\index{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/bit\+\_\+pack/synth/pack\+\_\+56\+\_\+to\+\_\+64.\+vhd@{/home/erik/git/dev/\+Lime\+S\+D\+R-\/\+U\+S\+B\+\_\+\+G\+W/src/bit\+\_\+pack/synth/pack\+\_\+56\+\_\+to\+\_\+64.\+vhd}}

\begin{DoxyCode}
00001 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00002 \textcolor{keyword}{-- FILE:    pack\_56\_to\_64.vhd}
00003 \textcolor{keyword}{-- DESCRIPTION: packs bits from 56 to 64 bits}
00004 \textcolor{keyword}{-- DATE:    Nov 14, 2016}
00005 \textcolor{keyword}{-- AUTHOR(s):   Lime Microsystems}
00006 \textcolor{keyword}{-- REVISIONS:}
00007 \textcolor{keyword}{-- ---------------------------------------------------------------------------- }
00008 \textcolor{vhdlkeyword}{library }\textcolor{keywordflow}{ieee};
00009 \textcolor{vhdlkeyword}{use }ieee.std\_logic\_1164.\textcolor{keywordflow}{all};
00010 \textcolor{vhdlkeyword}{use }ieee.numeric\_std.\textcolor{keywordflow}{all};
00011 
00012 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00013 \textcolor{keyword}{-- Entity declaration}
00014 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00015 \textcolor{keywordflow}{entity }pack_56_to_64 \textcolor{keywordflow}{is}
00016   \textcolor{keywordflow}{port} \textcolor{vhdlchar}{(}
00017 \textcolor{keyword}{      --input ports }
00018       \textcolor{vhdlchar}{clk}               \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00019       \textcolor{vhdlchar}{reset_n}           \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00020         \textcolor{vhdlchar}{data_in_wrreq}   \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic};
00021         \textcolor{vhdlchar}{data56_in}       \textcolor{vhdlchar}{:} \textcolor{keywordflow}{in} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{55} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00022         \textcolor{vhdlchar}{data64_out}      \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00023         \textcolor{vhdlchar}{data_out_valid}  \textcolor{vhdlchar}{:} \textcolor{keywordflow}{out} \textcolor{comment}{std\_logic}
00024        
00025         \textcolor{vhdlchar}{)};
00026 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{pack\_56\_to\_64};
00027 
00028 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00029 \textcolor{keyword}{-- Architecture}
00030 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00031 \textcolor{keywordflow}{architecture} arch \textcolor{keywordflow}{of} pack_56_to_64 is
00032 \textcolor{keyword}{--declare signals,  components here}
00033 
00034 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_0}                 \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00035 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_1}                 \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00036 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_2}                 \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00037 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_3}                 \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00038 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_4}                 \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00039 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_5}                 \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00040 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_6}                 \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00041 
00042 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_0_valid}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00043 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_1_valid}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00044 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_2_valid}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00045 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_3_valid}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00046 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_4_valid}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00047 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_5_valid}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00048 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_6_valid}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00049     
00050 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_0_valid_pipe}  \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00051 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_1_valid_pipe}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00052 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_2_valid_pipe}  \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00053 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_3_valid_pipe}  \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00054 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_4_valid_pipe}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00055 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_5_valid_pipe}  \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00056 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_6_valid_pipe}  \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00057 
00058 
00059 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{wr_cnt}                       \textcolor{vhdlchar}{:} \textcolor{comment}{unsigned}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00060 
00061 
00062 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data56_in_reg}                \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{55} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00063 
00064 \textcolor{keyword}{--output mux network}
00065 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_X_0}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00066 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_2_1}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00067 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_4_3}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00068 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_6_5}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00069 
00070 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_X_0_reg}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00071 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_2_1_reg}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00072 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_4_3_reg}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00073 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage0_6_5_reg}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00074 
00075 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_0_en_reg_stage0} \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00076 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_3_en_reg_stage0} \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00077 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{word64_4_en_reg_stage0} \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00078 
00079 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage1_2_0}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00080 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage1_6_3}           \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00081 
00082 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage1_2_0_reg}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00083 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage1_6_3_reg}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00084 
00085 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage1_2_0_sel}      \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00086 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage1_6_3_sel_0} \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00087 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage1_6_3_sel_1} \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00088 
00089 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage2_6_0}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00090 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage2_6_0_sel}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00091 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{mux_stage2_6_0_reg}       \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{63} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00092 
00093 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data_out_valid_reg}   \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic};
00094 \textcolor{keywordflow}{signal} \textcolor{vhdlchar}{data_out_valid_pipe}  \textcolor{vhdlchar}{:} \textcolor{comment}{std\_logic\_vector}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)};
00095 
00096 
00097  
00098 \textcolor{vhdlkeyword}{begin}
00099 
00100 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00101 \textcolor{keyword}{-- Input data register}
00102 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00103   \textcolor{keywordflow}{process}(reset_n, clk)
00104 \textcolor{vhdlkeyword}{    begin}
00105       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00106          \textcolor{vhdlchar}{data56_in_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00107       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00108          \textcolor{keywordflow}{if} \textcolor{vhdlchar}{data_in_wrreq} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00109             \textcolor{vhdlchar}{data56_in_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data56_in};
00110          \textcolor{keywordflow}{else} 
00111             \textcolor{vhdlchar}{data56_in_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data56_in_reg};
00112          \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00113         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00114     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00115 
00116 
00117 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00118 \textcolor{keyword}{-- Write counter}
00119 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00120 \textcolor{keywordflow}{process}(clk, reset_n) \textcolor{keywordflow}{is} 
00121 \textcolor{vhdlkeyword}{    begin }
00122         \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00123             \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00124         \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00125             \textcolor{keywordflow}{if}  \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00126                 \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt} \textcolor{vhdlchar}{<} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{then} 
00127                     \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{+}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1};
00128                 \textcolor{keywordflow}{else} 
00129                     \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00130                 \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00131             \textcolor{keywordflow}{else}
00132                 \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{wr_cnt};
00133             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00134         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00135 \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00136 
00137 
00138 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00139 \textcolor{keyword}{-- 64b word formation}
00140 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00141 \textcolor{keyword}{--1 stage}
00142 
00143   \textcolor{keywordflow}{process}(reset_n, clk)
00144 \textcolor{vhdlkeyword}{    begin}
00145       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00146             \textcolor{vhdlchar}{word64_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00147          \textcolor{vhdlchar}{word64_0_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00148       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00149             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00150 \textcolor{keyword}{                --word64\_0<=data56\_in(55 downto 48) & data56\_in\_reg;}
00151             \textcolor{vhdlchar}{word64_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data56_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data56_in_reg};
00152             \textcolor{vhdlchar}{word64_0_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00153             \textcolor{keywordflow}{else} 
00154                 \textcolor{vhdlchar}{word64_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_0};
00155             \textcolor{vhdlchar}{word64_0_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00156             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00157         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00158     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00159      
00160 \textcolor{keyword}{--2 stage}
00161 
00162   \textcolor{keywordflow}{process}(reset_n, clk)
00163 \textcolor{vhdlkeyword}{    begin}
00164       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00165             \textcolor{vhdlchar}{word64_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00166          \textcolor{vhdlchar}{word64_1_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00167       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00168             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{2} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00169 \textcolor{keyword}{            --word64\_1<=data56\_in(55 downto 40) & data56\_in\_reg(47 downto 0);}
00170                 \textcolor{vhdlchar}{word64_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data56_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{15} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data56_in_reg}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{55} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{8}\textcolor{vhdlchar}{)};
00171             \textcolor{vhdlchar}{word64_1_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00172             \textcolor{keywordflow}{else} 
00173                 \textcolor{vhdlchar}{word64_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_1};
00174             \textcolor{vhdlchar}{word64_1_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00175             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00176         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00177     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00178 
00179 \textcolor{keyword}{--3 stage}
00180 
00181   \textcolor{keywordflow}{process}(reset_n, clk)
00182 \textcolor{vhdlkeyword}{    begin}
00183       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00184             \textcolor{vhdlchar}{word64_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00185          \textcolor{vhdlchar}{word64_2_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00186       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00187             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{3} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00188 \textcolor{keyword}{            --word64\_2<=data56\_in(55 downto 32) & data56\_in\_reg(39 downto 0);}
00189                 \textcolor{vhdlchar}{word64_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data56_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{23} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data56_in_reg}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{55} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{16}\textcolor{vhdlchar}{)};
00190             \textcolor{vhdlchar}{word64_2_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00191             \textcolor{keywordflow}{else} 
00192                 \textcolor{vhdlchar}{word64_2}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_2};
00193             \textcolor{vhdlchar}{word64_2_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00194             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00195         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00196     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00197      
00198 \textcolor{keyword}{--4 stage}
00199 
00200   \textcolor{keywordflow}{process}(reset_n, clk)
00201 \textcolor{vhdlkeyword}{    begin}
00202       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00203             \textcolor{vhdlchar}{word64_3}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00204          \textcolor{vhdlchar}{word64_3_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00205       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00206             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{4} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00207 \textcolor{keyword}{            --word64\_3<=data56\_in(55 downto 24) & data56\_in\_reg(31 downto 0);}
00208                 \textcolor{vhdlchar}{word64_3}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data56_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{31} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data56_in_reg}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{55} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{24}\textcolor{vhdlchar}{)};
00209             \textcolor{vhdlchar}{word64_3_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00210             \textcolor{keywordflow}{else} 
00211                 \textcolor{vhdlchar}{word64_3}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_3};
00212             \textcolor{vhdlchar}{word64_3_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00213             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00214         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00215     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00216 
00217 \textcolor{keyword}{--5 stage}
00218 
00219   \textcolor{keywordflow}{process}(reset_n, clk)
00220 \textcolor{vhdlkeyword}{    begin}
00221       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00222             \textcolor{vhdlchar}{word64_4}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00223          \textcolor{vhdlchar}{word64_4_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00224       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00225             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{5} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00226 \textcolor{keyword}{            --word64\_4<=data56\_in(55 downto 16) & data56\_in\_reg(23 downto 0);}
00227                 \textcolor{vhdlchar}{word64_4}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data56_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{39} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data56_in_reg}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{55} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{32}\textcolor{vhdlchar}{)}; 
00228             \textcolor{vhdlchar}{word64_4_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00229             \textcolor{keywordflow}{else} 
00230                 \textcolor{vhdlchar}{word64_4}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_4};
00231             \textcolor{vhdlchar}{word64_4_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00232             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00233         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00234     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00235 
00236 \textcolor{keyword}{--6 stage    }
00237 
00238   \textcolor{keywordflow}{process}(reset_n, clk)
00239 \textcolor{vhdlkeyword}{    begin}
00240       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00241             \textcolor{vhdlchar}{word64_5}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00242          \textcolor{vhdlchar}{word64_5_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00243       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00244             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{6} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then} 
00245 \textcolor{keyword}{            --word64\_5<=data56\_in(55 downto 8) & data56\_in\_reg(15 downto 0);}
00246                 \textcolor{vhdlchar}{word64_5}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data56_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{47} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data56_in_reg}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{55} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{40}\textcolor{vhdlchar}{)};
00247             \textcolor{vhdlchar}{word64_5_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00248             \textcolor{keywordflow}{else} 
00249                 \textcolor{vhdlchar}{word64_5}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_5};
00250             \textcolor{vhdlchar}{word64_5_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00251             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00252         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00253     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00254 
00255 \textcolor{keyword}{--7 stage    }
00256 
00257   \textcolor{keywordflow}{process}(reset_n, clk)
00258 \textcolor{vhdlkeyword}{    begin}
00259       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00260             \textcolor{vhdlchar}{word64_6}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00261          \textcolor{vhdlchar}{word64_6_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00262       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00263             \textcolor{keywordflow}{if} \textcolor{vhdlchar}{wr_cnt}\textcolor{vhdlchar}{=}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{7} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{data_in_wrreq}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00264 \textcolor{keyword}{            --word64\_6<=data56\_in(55 downto 0) & data56\_in\_reg(7 downto 0);}
00265                 \textcolor{vhdlchar}{word64_6}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data56_in}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{55} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data56_in_reg}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{55} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{48}\textcolor{vhdlchar}{)};
00266             \textcolor{vhdlchar}{word64_6_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'};
00267             \textcolor{keywordflow}{else} 
00268                 \textcolor{vhdlchar}{word64_6}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_6};
00269             \textcolor{vhdlchar}{word64_6_valid}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00270             \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00271         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00272     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00273     
00274 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00275 \textcolor{keyword}{-- Shift registers for word\_valid signals }
00276 \textcolor{keyword}{-- ----------------------------------------------------------------------------  }
00277   \textcolor{keywordflow}{process}(reset_n, clk)
00278 \textcolor{vhdlkeyword}{    begin}
00279       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00280             \textcolor{vhdlchar}{word64_0_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00281             \textcolor{vhdlchar}{word64_1_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00282             \textcolor{vhdlchar}{word64_2_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00283             \textcolor{vhdlchar}{word64_3_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00284             \textcolor{vhdlchar}{word64_4_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00285             \textcolor{vhdlchar}{word64_5_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00286             \textcolor{vhdlchar}{word64_6_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00287       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00288             \textcolor{vhdlchar}{word64_0_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_0_valid_pipe}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{
      word64_0_valid};
00289             \textcolor{vhdlchar}{word64_1_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_1_valid_pipe}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{
      word64_1_valid};
00290             \textcolor{vhdlchar}{word64_2_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_2_valid_pipe}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{
      word64_2_valid};
00291             \textcolor{vhdlchar}{word64_3_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_3_valid_pipe}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{
      word64_3_valid};
00292             \textcolor{vhdlchar}{word64_4_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_4_valid_pipe}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{
      word64_4_valid};
00293             \textcolor{vhdlchar}{word64_5_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_5_valid_pipe}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{
      word64_5_valid};
00294             \textcolor{vhdlchar}{word64_6_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_6_valid_pipe}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1} \textcolor{keywordflow}{downto} \textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{
      word64_6_valid};
00295         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00296     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};   
00297 
00298      
00299 
00300 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00301 \textcolor{keyword}{-- 32b word output}
00302 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00303 \textcolor{keyword}{--firts stage of mux}
00304 \textcolor{vhdlchar}{mux_stage0_X_0}  \textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_0} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{word64_0_valid}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00305 \textcolor{vhdlchar}{mux_stage0_2_1}  \textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_1} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{word64_1_valid}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{word64_2};
00306 \textcolor{vhdlchar}{mux_stage0_4_3}  \textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_3} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{word64_3_valid}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{word64_4};
00307 \textcolor{vhdlchar}{mux_stage0_6_5}  \textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_5} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{word64_5_valid}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{word64_6};
00308 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00309 \textcolor{keyword}{-- Registers for MUX stage 0}
00310 \textcolor{keyword}{-- ----------------------------------------------------------------------------  }
00311   \textcolor{keywordflow}{process}(reset_n, clk)
00312 \textcolor{vhdlkeyword}{    begin}
00313       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00314             \textcolor{vhdlchar}{mux_stage0_X_0_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00315             \textcolor{vhdlchar}{mux_stage0_2_1_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00316             \textcolor{vhdlchar}{mux_stage0_4_3_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00317             \textcolor{vhdlchar}{mux_stage0_6_5_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00318          \textcolor{vhdlchar}{mux_stage1_2_0_sel}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00319          \textcolor{vhdlchar}{mux_stage1_6_3_sel_0}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00320          \textcolor{vhdlchar}{mux_stage1_6_3_sel_1}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00321       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00322             \textcolor{vhdlchar}{mux_stage0_X_0_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{mux_stage0_X_0};
00323             \textcolor{vhdlchar}{mux_stage0_2_1_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{mux_stage0_2_1};
00324             \textcolor{vhdlchar}{mux_stage0_4_3_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{mux_stage0_4_3};
00325             \textcolor{vhdlchar}{mux_stage0_6_5_reg} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{mux_stage0_6_5};
00326          \textcolor{vhdlchar}{mux_stage1_2_0_sel} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{word64_1_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word64_2_valid}\textcolor{vhdlchar}{)};
00327          \textcolor{vhdlchar}{mux_stage1_6_3_sel_0} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{word64_3_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word64_4_valid}\textcolor{vhdlchar}{)};  
00328          \textcolor{vhdlchar}{mux_stage1_6_3_sel_1} \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{word64_5_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word64_6_valid}\textcolor{vhdlchar}{)};
00329       
00330         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00331     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00332 
00333 
00334 
00335 \textcolor{keyword}{--second stage of mux}
00336 \textcolor{vhdlchar}{mux_stage1_2_0}  \textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{mux_stage0_X_0_reg} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{mux_stage1_2_0_sel}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{
      mux_stage0_2_1_reg};
00337 \textcolor{vhdlchar}{mux_stage1_6_3}  \textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{mux_stage0_4_3_reg} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{mux_stage1_6_3_sel_1}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{
      mux_stage0_6_5_reg};
00338 
00339 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00340 \textcolor{keyword}{-- Registers for MUX stage 1}
00341 \textcolor{keyword}{-- ----------------------------------------------------------------------------  }
00342   \textcolor{keywordflow}{process}(reset_n, clk)
00343 \textcolor{vhdlkeyword}{    begin}
00344       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00345             \textcolor{vhdlchar}{mux_stage1_2_0_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00346             \textcolor{vhdlchar}{mux_stage1_6_3_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00347          \textcolor{vhdlchar}{mux_stage2_6_0_sel}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00348       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00349             \textcolor{vhdlchar}{mux_stage1_2_0_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{mux_stage1_2_0};
00350             \textcolor{vhdlchar}{mux_stage1_6_3_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{mux_stage1_6_3};
00351          \textcolor{vhdlchar}{mux_stage2_6_0_sel}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{vhdlchar}{mux_stage1_6_3_sel_0} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{mux_stage1_6_3_sel_1}\textcolor{vhdlchar}{)}; 
00352         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00353     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00354 
00355 \textcolor{keyword}{--last stage of mux}
00356 \textcolor{vhdlchar}{mux_stage2_6_0}  \textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{mux_stage1_2_0_reg} \textcolor{keywordflow}{when} \textcolor{vhdlchar}{mux_stage2_6_0_sel}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{else} \textcolor{vhdlchar}{
      mux_stage1_6_3_reg};
00357 
00358   \textcolor{keywordflow}{process}(reset_n, clk)
00359 \textcolor{vhdlkeyword}{    begin}
00360       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00361             \textcolor{vhdlchar}{mux_stage2_6_0_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00362       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00363             \textcolor{vhdlchar}{mux_stage2_6_0_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{mux_stage2_6_0};
00364         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00365     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00366 
00367 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00368 \textcolor{keyword}{-- 32b word output valid signal}
00369 \textcolor{keyword}{-- ----------------------------------------------------------------------------}
00370   \textcolor{keywordflow}{process}(reset_n, clk)
00371 \textcolor{vhdlkeyword}{    begin}
00372       \textcolor{keywordflow}{if} \textcolor{vhdlchar}{reset_n}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'} \textcolor{keywordflow}{then}
00373             \textcolor{vhdlchar}{data_out_valid_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'};
00374          \textcolor{vhdlchar}{data_out_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{(}\textcolor{keywordflow}{others}\textcolor{vhdlchar}{=}\textcolor{vhdlchar}{>}\textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)};
00375       \textcolor{keywordflow}{elsif} \textcolor{vhdlchar}{(}\textcolor{vhdlchar}{clk}\textcolor{vhdlchar}{'}\textcolor{vhdlkeyword}{event} \textcolor{keywordflow}{and} \textcolor{vhdlchar}{clk} \textcolor{vhdlchar}{=} \textcolor{vhdlchar}{'}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{'}\textcolor{vhdlchar}{)} \textcolor{keywordflow}{then}
00376             \textcolor{vhdlchar}{data_out_valid_reg}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{word64_0_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word64_1_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{
      word64_2_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word64_3_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word64_4_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{word64_5_valid} \textcolor{keywordflow}{OR} \textcolor{vhdlchar}{
      word64_6_valid};
00377          \textcolor{vhdlchar}{data_out_valid_pipe}\textcolor{vhdlchar}{<=}\textcolor{vhdlchar}{data_out_valid_pipe}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{0}\textcolor{vhdlchar}{)} \textcolor{vhdlchar}{&} \textcolor{vhdlchar}{data_out_valid_reg}; 
00378         \textcolor{keywordflow}{end} \textcolor{keywordflow}{if};
00379     \textcolor{keywordflow}{end} \textcolor{keywordflow}{process};
00380     
00381     \textcolor{vhdlchar}{data64_out}         \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{mux_stage2_6_0_reg};
00382     \textcolor{vhdlchar}{data_out_valid}   \textcolor{vhdlchar}{<=} \textcolor{vhdlchar}{data_out_valid_pipe}\textcolor{vhdlchar}{(}\textcolor{vhdllogic}{}\textcolor{vhdllogic}{1}\textcolor{vhdlchar}{)};
00383 
00384  
00385 
00386 \textcolor{keywordflow}{end} \textcolor{vhdlchar}{arch};   
00387 
00388 
00389 
\end{DoxyCode}
